{
  "hash": "57b27c851664e11096b1437282d9ce16",
  "result": {
    "markdown": "---\ntitle: \"Summary Statistics <br> in R <br>\"\nauthor: \"Keith Baxelbaum, Rose Hartman, and <br> Alexis Zavez (presenter) <br>\"\ninstitute: \"Data Science and Biostatistics Unit (DSBU) and <br> Arcus Education, DBHI\"\ndate: \"2024-04-08\"\neditor: \n  markdown: \n    wrap: 72\n---\n\n\n-   Use keyboard arrow keys to\n    -   advance ( → ) and\n    -   go back ( ← )\n-   Type \"s\" to see speaker notes\n-   Type \"?\" to see other keyboard shortcuts\n\n\n::: {.cell}\n\n:::\n\n\n## Join the CHOP R User Group\n\n::: {.columns .v-center-container}\n::: {.column width=\"50%\"}\n![](media/chopr.png){fig-alt=\"CHOPR hex sticker logo\" width=\"100%\"}\n:::\n\n::: {.column width=\"50%\"}\n-   Friendly help troubleshooting your R code\n-   Announcements for upcoming talks, workshops, and conferences\n:::\n:::\n\nLink to join: <https://bit.ly/chopRusers>\n\n::: notes\nJust a few announcements before we get started. For anyone here today\nthat isn't already part of the CHOP R User group, I strongly encourage\nyou to join (it is also open to Penn folks). The CHOP R User group has\nmore than 400 members from all departments. This is great place to\nnetwork with other R users, get help with coding problems, and learn\nabout new packages, webinars, and conferences. We also have semi-regular\nmeetings and workshops, like this one.\n:::\n\n## Come to R Office Hours!\n\n-   Set up a meeting to get live help with your R code from our most\n    experienced useRs\n-   Office hours appointments can be one-on-one or open to the community\n\nLink to calendar: <https://bit.ly/chopROfficeHours>\n\n::: aside\nWe're looking for more volunteers to lead appointments! Get in touch:\nhartmanr1\\@chop.edu\n:::\n\n::: notes\nWe have regular office hours appointments available to get R help. We're\noffering two kinds of appointments: one-on-one, if you want individual\nhelp, or open appointments that are more of a community conversation\nabout whatever R questions people bring up that day. The open\nappointments can be particularly valuable to attend if you want to hear\nother people's questions about R but maybe don't have a project of your\nown that you're troubleshooting at the moment. We set up a calendar\nonline where you can book an appointment. \n\nAnd if you like this\nidea and you're an experienced R user yourself, consider joining us to\noffer appointments! It's just whatever times work for you, so we can set\nup a schedule around whatever other work you've got going on. Reach out\nto me via email or slack for details.\n:::\n\n## R/Medicine is Accepting Abstracts!\n\n-   R-based tools should have a substantial role in the work\n\n-   The content of the presentation should be of interest to the R/Medicine\n    community\n\n*CFP ends Monday, April 22 at 11:59 PM EDT*\n\n**R/Medicine 2024:** June 10-14 (virtual)\n\nMore info: <https://rconsortium.github.io/RMedicine_website/>\n\n::: notes\nWe also want to spread the word that R/Medicine is currently accepting abstracts for their upcoming conference in June. Abstracts can be on a variety of topics, but R-based tools should have a substantial role in the work. More information is available at this link. \n:::\n\n## Coming Soon - More R102 Sessions!\n\nThis is the second talk in a new series called **R102: MasteRing the\nFundamentals**\n\n<br>\n\n**Next up:** Reshaping Data with tidyr, May 6th 12:00pm ET\n\n<br>\n\nLearn more about this new series, including dates and titles for each\nsession: <br> <https://arcus.github.io/r102/>\n\n::: notes\nToday's talk is the second in a new series called **R102: MasteRing the\nFundamentals**. These workshops are intended as a continuation of the\npopular Intro to R for Clinical Data workshop we offer a few times a\nyear. Last month, we covered the first topic in this series: Missing\nvalues in R. Next month, we will cover: Reshaping Data with tidyr\n\nWe're designing these talks with beginners in mind, so if you're trying\nto figure out how to get started with R, or how to start applying it in\nyour own work, these talks are for you! To see the schedule of talks,\ncheck out the website for the series. We'll also post links to slides\nand recordings there as well as they become available.\n:::\n\n# R 102: <br> Summary Statistics\n\n::: notes\nOkay! So this talk is a quick dip into some 102-level R. In other words,\nif you've had a little exposure to R before, such as through an Intro to\nR for Clinical Data workshop, this is hopefully the right level for you\nnow. If you're completely brand new to R, first of all: Welcome! You may\nfind it tricky to actively follow along with the code today since I'm\ngoing to skim over some of the initial steps, but go ahead and give it a\ntry, or just listen and watch if that feels more like the right speed.\n\nOur topic is getting summary statistics in R, the first step to pretty\nmuch any analysis. We'll also look at how to present those summary stats\nin a lovely, publication-ready Table 1. Please feel free to put any questions in the chat - we have a few additional team members who will try to answer your questions during the talk.\nIf there is extra time, we can also stop and talk about\nthings as a group. \n:::\n\n## What we're covering today\n\n. . .\n\n-   How to get summary stats in R for both continuous and categorical\n    variables\n\n. . .\n\n-   How to create a publication-ready Table 1\n\n. . .\n\n-   NOT teaching the full analysis in R pipeline -- we're glossing over\n    importing data and tidying data\n\n. . .\n\n-   NOT teaching formal statistical modeling (e.g. hypothesis testing)\n\n## Thinking About Summary Statistics\n\nSummary statistics, also called descriptive statistics, serve a few\nimportant functions:\n\n-   understand your data better during exploratory data analysis\n-   give you an idea of what your study population was like at baseline\n-   show preexisting differences between groups\n\n::: notes\n-   they help you understand your data better during exploratory data\n    analysis (including things like catching errors or outliers!)\n-   they give you (and your readers) a better idea of what your study\n    population was like at baseline, which has implications for how\n    generalizable your results might be\n-   they can show any preexisting differences between groups (or lack\n    thereof), which is important for interpreting any differences\n    between groups after treatment\n:::\n\n## Which statistic?\n\n. . .\n\nCategorical variables:\n\n-   counts\n\n. . .\n\nContinuous variables:\n\n-   central tendency\n-   variability\n\n::: notes\nFor categorical variables, summary statistics are generally limited to\ncounts in each category (for example, how many patients tested positive\nand negative for CMV?).\n\\[click\\] \nFor continuous variables, there are many more options. Summary\nstatistics generally focus on **central tendency** and **variability**.\nIn other words, where on the scale are the data located, and how spread\nout are the data?\n:::\n\n## Central tendency\n\n. . .\n\nMeasures of central tendency:\n\n-   mean\n-   median\n\n::: notes\nFor example, consider a variable like age. A measure of central tendency\nwould tell you, generally, how old are the research subjects? Is this a\npediatric population, or adult?\n\n\\[click\\]Examples of statistics that capture central tendency are the\n**mean** and the **median**. Let's say the mean age of participants in\nour study was 45. Now you have an idea of where on the scale we are ---\nthis is not a population of children, nor is it a study about advanced\nage.\n:::\n\n## Variability\n\n. . .\n\nMeasures of variability:\n\n-   variance\n-   standard deviation\n-   interquartile range\n-   range\n\n::: notes\nBut how spread out are the data? This could be a population sampled from\nacross the lifespan, with participants ranging from 5 to 90, or it could\nbe a focused investigation of people in middle age, with all of the\nsubjects in their 40s or even in their mid-40s.\n\nExamples of statistics that capture variability are **variance**,\n**standard deviation**, **interquartile range**, and **range**.\n:::\n\n## {{< fa book-open >}} Learn more\n\nWe won't get into the mathematical definitions of each of these\nstatistics here, but if you'd like a refresher, check out these\nexcellent Khan academy videos:\n\n-   [Statistics Intro: Mean, Median, and\n    Mode](https://www.khanacademy.org/math/engageny-alg-1/alg1-2/alg1-2a-center/v/statistics-intro-mean-median-and-mode)\n-   [Measures of Spread: Range, Variance, and Standard\n    Deviation](https://www.khanacademy.org/math/statistics-probability/summarizing-quantitative-data/variance-standard-deviation-population/v/range-variance-and-standard-deviation-as-measures-of-dispersion)\n-   [Interquartile Range\n    (IQR)](https://www.khanacademy.org/math/engageny-alg-1/alg1-2/alg1-2b-interquartile-range/v/calculating-interquartile-range-iqr)\n\n::: notes\nI've got a few of these \"learn more\" slides thrown in throughout the\npresentation. They include links to resources I like for learning more\nabout the topics we're covering. I won't click through to any of these\nresources now, but you have access to the slides so feel free to go back\nand review these links later if you like!\n:::\n\n## Getting Summary Statistics in R\n\nTwo options:\n\n1.  Work in the cloud: \n<https://posit.cloud/content/6126628>\n\n2.  Work on your computer:\n<https://github.com/arcus/education_r_environment>\n\n::: notes\nTime to start coding! By far the best way to learn R is to practice, so\nwork through this code yourself as you follow along.\n\nThe first link will take you to Posit Cloud, which gives you a way to work\nwith the code right in your browser without having to install anything\non your machine. You will need to create a free account if you don't\nalready have one. I'll click that link now so you can see what it looks\nlike. It will take a few minutes to load.\n\nYou can also get all of the code for this talk directly from our GitHub\nand download it to work on your own machine. If you want to go this\nroute, go to our GitHub repo and then find this green \"Code\" button. If\nyou click that you'll see you have several options, one of which is\ndownloading a zip file -- click that and it will download all the files\nyou need for this talk. Once it's done downloading, double click it to\nunzip the file. If you're comfortable using git, you can also clone the\nrepo, or fork it if you'd like a personal copy. And if you don't know\nwhat cloning and forking are, no worries! Just use the zip file.\n:::\n\n## The packages we'll be using today\n\n![](https://www.tidyverse.org/images/hex-tidyverse.png){.absolute\ntop=\"200\" left=\"0\" width=\"300\" fig-alt=\"tidyverse hex sticker logo.\"}\n![](https://higgi13425.github.io/medicaldata/logo.png){.absolute\ntop=\"200\" left=\"350\" width=\"300\"\nfig-alt=\"medicaldata hex sticker logo.\"}\n![](https://www.danieldsjoberg.com/gtsummary/reference/figures/logo.png){.absolute\ntop=\"182\" right=\"0\" width=\"400\" fig-alt=\"gtsummary hex sticker logo.\"}\n\n::: notes\nFirst, we need to load the `tidyverse` packages, since we'll be using\nseveral functions that come in the `tidyverse`. We'll also load the\n`medicaldata` package, which includes several publicly available data\nsets with medical data. And we'll load the `gtsummary` package for\ncreating publication-ready tables.\n:::\n\n## {{< fa book-open >}} Learn more\n\nThere's a lot of helpful information (including examples and tutorials)\non the package websites for each of the packages we'll be using:\n\n-   [tidyverse](https://www.tidyverse.org/)\n-   [medicaldata](https://higgi13425.github.io/medicaldata/)\n-   [gtsummary](https://www.danieldsjoberg.com/gtsummary)\n\n::: notes\nThese packages all have excellent websites available with lots of great\ntutorials and such, so definitely go back and look at those websites if\nyou want to learn more.\n\nI'll also pause here for a moment to invite anyone that is having\ntrouble getting access to the code, either with that Posit Cloud link or\nby downloading the files, to let us know in the chat. If you have the\ncode pulled up and ready to go, please \"thumbs up\" the comment in the chat \nto let us know you're ready.\n:::\n\n## Load packages\n\nOnly if needed:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(c(\"tidyverse\", \"medicaldata\", \"gtsummary\"))\n```\n:::\n\n\n<br> Each R session:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(medicaldata) \nlibrary(gtsummary)\n```\n:::\n\n\n::: notes\nIf you're running this on your own computer rather than in the cloud\ninstance we set up, you may need to run `install.packages` first if you\nhaven't ever used these packages before. If you're working in the cloud,\nthen all three packages have already been installed for you.\n\nEither way, the library commands here are written out for you in the\nfirst chunk of the file `summary_stats_exercises.rmd`. Go ahead and open\nthat file now, and click the green arrow to run those three lines.\n:::\n\n## The data\n\nIn the console or in the exercises rmd file, run the following command:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nhead(cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  ID age sex race                    diagnosis diagnosis.type\n1  1  61   1    0       acute myeloid leukemia              1\n2  2  62   1    1         non-Hodgkin lymphoma              0\n3  3  63   0    1         non-Hodgkin lymphoma              0\n4  4  33   0    1             Hodgkin lymphoma              0\n5  5  54   0    1 acute lymphoblastic leukemia              0\n6  6  55   1    1                myelofibrosis              1\n  time.to.transplant prior.radiation prior.chemo prior.transplant recipient.cmv\n1               5.16               0           2                0             1\n2              79.05               1           3                0             0\n3              35.58               0           4                0             1\n4              33.02               1           4                0             1\n5              11.40               0           5                0             1\n6               2.43               0           0                0             1\n  donor.cmv donor.sex TNC.dose CD34.dose CD3.dose CD8.dose TBI.dose C1/C2 aKIRs\n1         0         0    18.31      2.29     3.21     0.95      200     0     1\n2         0         1     4.26      2.04       NA       NA      200     1     5\n3         1         0     8.09      6.97     2.19     0.59      200     0     3\n4         0         1    21.02      6.09     4.87     2.32      200     0     2\n5         1         0    14.70      2.36     6.55     2.40      400     0     6\n6         1         1     4.29      6.91     2.53     0.86      200     0     2\n  cmv time.to.cmv agvhd time.to.agvhd cgvhd time.to.cgvhd\n1   1        3.91     1          3.55     0          6.28\n2   0       65.12     0         65.12     0         65.12\n3   0        3.75     0          3.75     0          3.75\n4   0       48.49     1         28.55     1         10.45\n5   0        4.37     1          2.79     0          4.37\n6   1        4.53     1          3.88     0          6.87\n```\n:::\n:::\n\n\n::: notes\nThis command is also written out for you in the\n`summary_stats_exercises.rmd` file, in the next code chunk.\n\nLet's take a look at the data. \\[click\\]\n\nYou should see the first six rows of the cytomegalovirus data frame,\nwhich look like this.\n\nNote that this is one of the example datasets that comes built-in when\nyou install the `medicaldata` package, so it's already available to you\nwithout you having to read it in or download anything.\n\nFor those of you that have worked in R before, you know importing data\nis a whole thing, so we're definitely skipping over a potentially tricky\nbit by using built-in data, but we only have so much time today and I\nwanted to be able to put as much time as possible towards actually\nworking with the summary statistics. So we're just merrily skipping past\nall the importing and tidying that would normally happen.\n:::\n\n## About these data\n\nTo learn more about this dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?cytomegalovirus\n```\n:::\n\n\n. . .\n\nFrom the help documentation:\n\n> This data set contains 64 consecutive patients who underwent T-cell\n> replete, matched sibling donor reduced-intensity conditioning\n> allogeneic hematopoietic stem cell transplant. The primary risk factor\n> of interest was the number of activating killer immunoglobulin-like\n> receptors (aKIRs: 1-4 vs. 5-6).\n\n::: notes\nFor those of you who are (like me) typo-prone, I recommend using\ntab-completion for the dataframe name. Start typing `cyt` and then pause\na moment and you should see RStudio suggest the correct name. Hit tab to\nfill it in.\n:::\n\n## {{< fa book-open >}} Learn more\n\n-   To learn more about the cytomegalovirus data and the study behind\n    it, read [Sobecks et al.\n    2011](https://pubmed.ncbi.nlm.nih.gov/21605017/).\n-   To learn more about the `medicaldata` R package these data are\n    published in, see the [`medicaldata` package\n    website](https://higgi13425.github.io/medicaldata/) -- and note that\n    the maintainers are always looking for more data contributions!\n\n## Using `summary()`\n\nFirst try running `summary()` on just the `age` column:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus$age)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  29.00   46.00   55.00   52.44   61.00   67.00 \n```\n:::\n:::\n\n\n::: notes\nThe best place to start your exploratory data analysis is often the\n`summary` function. You can run it on an individual column, or on a\nwhole dataframe.\n\nSo let's look at what we get from running `summary` on the age column.\n\\[click\\] \nMin is 29, Max is 67. The youngest patient is 29 and the oldest is 67.\nIt's also printing the 1st Quartile (25th percentile), Median, Mean, and\n3rd Quartile (75th percentile) for us.\n:::\n\n## Using `summary()`\n\nNow try running `summary` on the whole dataframe all at once:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       ID             age             sex              race       \n Min.   : 1.00   Min.   :29.00   Min.   :0.0000   Min.   :0.0000  \n 1st Qu.:16.75   1st Qu.:46.00   1st Qu.:0.0000   1st Qu.:1.0000  \n Median :32.50   Median :55.00   Median :1.0000   Median :1.0000  \n Mean   :32.50   Mean   :52.44   Mean   :0.5312   Mean   :0.9062  \n 3rd Qu.:48.25   3rd Qu.:61.00   3rd Qu.:1.0000   3rd Qu.:1.0000  \n Max.   :64.00   Max.   :67.00   Max.   :1.0000   Max.   :1.0000  \n                                                                  \n  diagnosis         diagnosis.type   time.to.transplant prior.radiation \n Length:64          Min.   :0.0000   Min.   :  1.84     Min.   :0.0000  \n Class :character   1st Qu.:0.0000   1st Qu.:  8.15     1st Qu.:0.0000  \n Mode  :character   Median :1.0000   Median : 13.70     Median :0.0000  \n                    Mean   :0.5172   Mean   : 30.85     Mean   :0.1719  \n                    3rd Qu.:1.0000   3rd Qu.: 33.28     3rd Qu.:0.0000  \n                    Max.   :1.0000   Max.   :173.83     Max.   :1.0000  \n                    NA's   :6        NA's   :1                          \n  prior.chemo    prior.transplant recipient.cmv     donor.cmv     \n Min.   :0.000   Min.   :0.0000   Min.   :0.000   Min.   :0.0000  \n 1st Qu.:1.000   1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000  \n Median :2.000   Median :0.0000   Median :1.000   Median :1.0000  \n Mean   :2.188   Mean   :0.1875   Mean   :0.625   Mean   :0.5938  \n 3rd Qu.:3.000   3rd Qu.:0.0000   3rd Qu.:1.000   3rd Qu.:1.0000  \n Max.   :8.000   Max.   :1.0000   Max.   :1.000   Max.   :1.0000  \n                                                                  \n   donor.sex      TNC.dose       CD34.dose         CD3.dose       CD8.dose    \n Min.   :0.0   Min.   : 2.06   Min.   : 2.040   Min.   :1.08   Min.   :0.160  \n 1st Qu.:0.0   1st Qu.: 6.89   1st Qu.: 4.165   1st Qu.:3.08   1st Qu.:0.805  \n Median :0.5   Median :10.48   Median : 5.840   Median :3.98   Median :1.200  \n Mean   :0.5   Mean   :10.44   Mean   : 5.546   Mean   :4.30   Mean   :1.323  \n 3rd Qu.:1.0   3rd Qu.:13.42   3rd Qu.: 6.990   3rd Qu.:5.48   3rd Qu.:1.663  \n Max.   :1.0   Max.   :21.02   Max.   :12.510   Max.   :8.18   Max.   :3.190  \n                                                NA's   :3      NA's   :12     \n    TBI.dose         C1/C2            aKIRs            cmv        \n Min.   :200.0   Min.   :0.0000   Min.   :1.000   Min.   :0.0000  \n 1st Qu.:200.0   1st Qu.:0.0000   1st Qu.:1.000   1st Qu.:0.0000  \n Median :200.0   Median :1.0000   Median :2.000   Median :0.0000  \n Mean   :287.5   Mean   :0.5156   Mean   :2.844   Mean   :0.4062  \n 3rd Qu.:400.0   3rd Qu.:1.0000   3rd Qu.:4.250   3rd Qu.:1.0000  \n Max.   :400.0   Max.   :1.0000   Max.   :6.000   Max.   :1.0000  \n                                                                  \n  time.to.cmv         agvhd        time.to.agvhd        cgvhd       \n Min.   : 0.430   Min.   :0.0000   Min.   : 0.660   Min.   :0.0000  \n 1st Qu.: 2.712   1st Qu.:0.0000   1st Qu.: 2.623   1st Qu.:0.0000  \n Median : 5.030   Median :0.0000   Median : 5.800   Median :0.0000  \n Mean   :13.206   Mean   :0.4062   Mean   :15.605   Mean   :0.4375  \n 3rd Qu.:16.012   3rd Qu.:1.0000   3rd Qu.:21.410   3rd Qu.:1.0000  \n Max.   :84.470   Max.   :1.0000   Max.   :85.190   Max.   :1.0000  \n                                                                    \n time.to.cgvhd   \n Min.   : 0.820  \n 1st Qu.: 3.848  \n Median : 6.735  \n Mean   :10.304  \n 3rd Qu.:11.307  \n Max.   :65.120  \n                 \n```\n:::\n:::\n\n\n::: notes\nNow let's try running it on the whole data frame at once.\n\n\\[click\\] You should see a summary of each of the 26 variables in the\ndata, with a set of summary statistics printed under each. This is a\ngreat way to get a lot of information quickly. The `summary` function is\nclever enough to print different summary statsitics for different\nvariable types --- it won't try to calculate the mean or median of a\ncategorical variable (called a factor in R), for example, since that\nwouldn't be meaningful.\n\nThe `summary` function checks what type of variable (numeric,\ncategorical/factor, etc.) is in each column and returns sensible summary\nstatistics for each. For a factor, you get the count for each level, and\nalso a count of how many observations are missing. For numeric\nvariables, you get the range (minimum and maximum), the 1st quartile,\nmedian, mean, 3rd quartile, and the count of missing observations.\n\nIn this dataframe, most of the data are numeric. There is one column,\ndiagnosis, that shows up as character. If you look at the help\ndocumentation for the data set (`?cytomegalovirus`), you'll see that\ndiagnosis should actually be a factor with 13 levels. If it were a factor, we\ncould get more useful summary statistics for it, too.\n:::\n\n## Convert to factor\n\nConvert diagnosis column from character to factor:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncytomegalovirus$diagnosis <- as.factor(cytomegalovirus$diagnosis)\n```\n:::\n\n\n. . .\n\nRe-run the summary for that column:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus$diagnosis)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nacute lymphoblastic leukemia       acute myeloid leukemia \n                           1                           12 \n             aplastic anemia chronic lymphocytic leukemia \n                           1                            5 \n    chronic myeloid leukemia            congenital anemia \n                           4                            1 \n            Hodgkin lymphoma            multiple myelomas \n                           3                            7 \n    myelodysplastic syndrome                myelofibrosis \n                           9                            4 \n myeloproliferative disorder         non-Hodgkin lymphoma \n                           1                           12 \n        renal cell carcinoma \n                           4 \n```\n:::\n:::\n\n\n::: notes\nNow we get counts for each type of diagnosis! Much better.\n\nThere are also several other variables that are represented in the data\nas 0 or 1, but should really be considered as factors. We'll clean those\nup now.\n:::\n\n## Convert to factor\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2|\"}\ncytomegalovirus <- cytomegalovirus |> \n  mutate(sex = factor(sex, levels = c(0, 1), labels = c(\"Female\", \"Male\")),\n         race = factor(race, levels = c(0, 1), labels = c(\"African-American\", \"White\")),\n         diagnosis.type = factor(diagnosis.type, levels = c(0, 1), labels = c(\"Lymphoid\", \"Myeloid\")),\n         prior.radiation = factor(prior.radiation, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         prior.transplant = factor(prior.transplant, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         donor.cmv = factor(donor.cmv, levels = c(0, 1), labels = c(\"Negative\", \"Positive\")),\n         recipient.cmv = factor(recipient.cmv, levels = c(0, 1), labels = c(\"Negative\", \"Positive\")),\n         donor.sex = factor(donor.sex, levels = c(0, 1), labels = c(\"Male\", \"Female\")),\n         `C1/C2` = factor(`C1/C2`, levels = c(0, 1), labels = c(\"Heterozygous\", \"Homozygous\")),\n         cmv = factor(cmv, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         agvhd = factor(agvhd, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         cgvhd = factor(cgvhd, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\n         )\n```\n:::\n\n\n::: notes\nWe could do it with individual commands using `as.factor` like we did\nfor diagnosis, but instead we'll take a look at another approach. Also\nnote that this code is ready for you in the\n`summary_stats_exercises.Rmd` file --- no need to try to type this all\nout now.\n\nLet's break that down. We're using `mutate` to make changes to the\ncolumns in the dataframe. You can use `mutate` to create new columns,\nbut in this case we're just overwriting existing columns. Within the\nmutate command, we have a different argument for each column we want to\nchange. They all take the form\n`column_name = factor(column_name, levels = c(), labels = c())` where\nthe levels are the existing values in the column already (e.g. 0 and 1)\nand labels are what we want them to show up as in the factor (e.g. \"Female\"\nand \"Male\"). Note that the order of levels and labels has to line up, so\nthe first level will get the first label, and the second level will get\nthe second label, etc. To learn more about the `factor()` command, check\nout its help documentation with `?factor`.\n:::\n\n## {{< fa book-open >}} Learn more\n\nA few things from the above code that you might want to look into\nfurther:\n\n-   Pipes! See [2nd edition R4DS section on\n    pipes](https://r4ds.hadley.nz/data-transform.html#sec-the-pipe),\n    which uses the new `|>` instead of `%>%`.\n-   If you're curious, a [comparison of the new and old\n    pipes](https://www.tidyverse.org/blog/2023/04/base-vs-magrittr-pipe/).\n-   More about `mutate` and data transformation in general in [R4DS\n    section on\n    mutate](https://r4ds.hadley.nz/data-transform.html#sec-mutate)\n\n## {{< fa circle-question >}} Troubleshooting\n\nIf you make a mistake modifying the data, how can you undo it?\n\nIf this were a dataset we read in from an external file (like a .csv),\nyou could just read it in again to get a fresh copy. But how do you get\na fresh copy of a built-in dataset?\n\n. . .\n\nTo reset the data to its original state, run `rm(cytomegalovirus)` in\nthe console. This will delete your current version of the data from R's\nenvironment, and you'll just be left with the original clean copy from\nthe `medicaldata` package.\n\n::: notes\nRemember: If you run `rm(cytomegalovirus)` to reset the data, you'll\nneed to re-run any changes you made to the data that you want to keep,\nlike converting `diagnosis` to a factor above.\n:::\n\n## Summary again\n\nLet's run `summary` on the whole dataframe again to see the results now\nthat we've cleaned up the column types.\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       ID             age            sex                   race   \n Min.   : 1.00   Min.   :29.00   Female:30   African-American: 6  \n 1st Qu.:16.75   1st Qu.:46.00   Male  :34   White           :58  \n Median :32.50   Median :55.00                                    \n Mean   :32.50   Mean   :52.44                                    \n 3rd Qu.:48.25   3rd Qu.:61.00                                    \n Max.   :64.00   Max.   :67.00                                    \n                                                                  \n                        diagnosis   diagnosis.type time.to.transplant\n acute myeloid leukemia      :12   Lymphoid:28     Min.   :  1.84    \n non-Hodgkin lymphoma        :12   Myeloid :30     1st Qu.:  8.15    \n myelodysplastic syndrome    : 9   NA's    : 6     Median : 13.70    \n multiple myelomas           : 7                   Mean   : 30.85    \n chronic lymphocytic leukemia: 5                   3rd Qu.: 33.28    \n chronic myeloid leukemia    : 4                   Max.   :173.83    \n (Other)                     :15                   NA's   :1         \n prior.radiation  prior.chemo    prior.transplant  recipient.cmv    donor.cmv \n No :53          Min.   :0.000   No :52           Negative:24    Negative:26  \n Yes:11          1st Qu.:1.000   Yes:12           Positive:40    Positive:38  \n                 Median :2.000                                                \n                 Mean   :2.188                                                \n                 3rd Qu.:3.000                                                \n                 Max.   :8.000                                                \n                                                                              \n  donor.sex     TNC.dose       CD34.dose         CD3.dose       CD8.dose    \n Male  :32   Min.   : 2.06   Min.   : 2.040   Min.   :1.08   Min.   :0.160  \n Female:32   1st Qu.: 6.89   1st Qu.: 4.165   1st Qu.:3.08   1st Qu.:0.805  \n             Median :10.48   Median : 5.840   Median :3.98   Median :1.200  \n             Mean   :10.44   Mean   : 5.546   Mean   :4.30   Mean   :1.323  \n             3rd Qu.:13.42   3rd Qu.: 6.990   3rd Qu.:5.48   3rd Qu.:1.663  \n             Max.   :21.02   Max.   :12.510   Max.   :8.18   Max.   :3.190  \n                                              NA's   :3      NA's   :12     \n    TBI.dose              C1/C2        aKIRs        cmv      time.to.cmv    \n Min.   :200.0   Heterozygous:31   Min.   :1.000   No :38   Min.   : 0.430  \n 1st Qu.:200.0   Homozygous  :33   1st Qu.:1.000   Yes:26   1st Qu.: 2.712  \n Median :200.0                     Median :2.000            Median : 5.030  \n Mean   :287.5                     Mean   :2.844            Mean   :13.206  \n 3rd Qu.:400.0                     3rd Qu.:4.250            3rd Qu.:16.012  \n Max.   :400.0                     Max.   :6.000            Max.   :84.470  \n                                                                            \n agvhd    time.to.agvhd    cgvhd    time.to.cgvhd   \n No :38   Min.   : 0.660   No :36   Min.   : 0.820  \n Yes:26   1st Qu.: 2.623   Yes:28   1st Qu.: 3.848  \n          Median : 5.800            Median : 6.735  \n          Mean   :15.605            Mean   :10.304  \n          3rd Qu.:21.410            3rd Qu.:11.307  \n          Max.   :85.190            Max.   :65.120  \n                                                    \n```\n:::\n:::\n\n\n::: notes\n\\[click\\] The results are much more useful now that we've cleaned up the\ncolumn types!\n:::\n\n## Individual summary statistics\n\nWhat is the shortest time from diagnosis to transplant in the data?\n\n::: aside\nYou can see in the help documentation for the data (`?cytomegalovirus`)\nthat `time.to.transplant` is in months.\n:::\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nmin(cytomegalovirus$time.to.transplant)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] NA\n```\n:::\n:::\n\n\n::: notes\nWe can get the minimum of any numeric variable with the function `min`.\n\n\\[click\\] Uh-oh! It returns `NA` for this because there is a missing\nobservation somewhere in this column.\n:::\n\n## Checking the help documentation\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?min\n```\n:::\n\n\nFrom the help documentation for `min`:\n\n> **Usage**\n>\n> `max(..., na.rm = FALSE)`\n>\n> `min(..., na.rm = FALSE)`\n\n::: notes\nIf you look at `?min`, you'll see the default for this function (and\nmost statistics functions in R) is `na.rm = FALSE`, which basically\nmeans \"only compute a value if there are no missing observations\".\n:::\n\n## Working around missing values\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nmin(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.84\n```\n:::\n:::\n\n\n::: notes\nQuick aside here about a handy shortcut when you're working in the\nconsole. If you want to tweak a line of code you just ran, you can use\nthe up arrow on your keyboard to bring up the last command you ran. Then\nyou can edit it, and hit enter to run the tweaked version.\n\nTo get the minimum for this column ignoring the missing value, use the\nup arrow to bring up your last command and add `na.rm = TRUE`.\n:::\n\n## More individual statistics\n\nWhat is the longest time from diagnosis to transplant?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmax(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 173.83\n```\n:::\n:::\n\n\n. . .\n\nWhat is the mean time to transplant?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 30.84556\n```\n:::\n:::\n\n\n. . .\n\nMore individual statistics:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmedian(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 13.7\n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvar(cytomegalovirus$time.to.transplant, na.rm = TRUE) # variance\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1638.105\n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(cytomegalovirus$time.to.transplant, na.rm = TRUE) # standard deviation\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 40.47351\n```\n:::\n:::\n\n\n::: notes\nSince we're running these all on the same column, you can use the up\narrow to tweak the command each time.\n:::\n\n## {{< fa rocket >}} Coding Challenge 1\n\n::: r-fit-text\nYour turn!\n\nLook in the `summary_stats_exercises.rmd` file to find your first coding\nchallenge.\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_a322031d\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n::: notes\nWe'll just work on this for a couple minutes and if you don't finish\nduring that time, no sweat, just pause wherever you are and we'll take a\nlook at the solutions together.\n:::\n\n## Counts\n\nFor categorical variables, summary statistics are just counts.\n\nWe'll look at two ways to get the counts for a single categorical\nvariable in R:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus$diagnosis.type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLymphoid  Myeloid     NA's \n      28       30        6 \n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable(cytomegalovirus$diagnosis.type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nLymphoid  Myeloid \n      28       30 \n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable(cytomegalovirus$diagnosis.type, useNA = \"always\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nLymphoid  Myeloid     <NA> \n      28       30        6 \n```\n:::\n:::\n\n\n::: notes\nYou can use `summary` to get counts for factors, but it won't work on\ncharacter vectors, whereas `table` works to get counts on factors or\ncharacters.\n\nNote that `table` doesn't give you any information about missing values\nby default, though -- it just gives counts for observations with data.\nIf you want to see missing values using `table`, add the argument\n`useNA = \"always\"`\n:::\n\n## More counts\n\nTo get counts of two categorical variables together (e.g. what is the\ndiagnosis type breakdown by recipient CMV status?), use\n[cross-tabulation](https://www.khanacademy.org/math/statistics-probability/analyzing-categorical-data/two-way-tables-for-categorical-data/a/two-way-tables-review),\nalso called \"crosstabs\" or \"two-way frequency tables\".\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nxtabs(~cmv + diagnosis.type, \n      data = cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     diagnosis.type\ncmv   Lymphoid Myeloid\n  No        15      19\n  Yes       13      11\n```\n:::\n:::\n\n\n## Crosstabs\n\nTo get the results of a chi-squared test on the crosstabs, you can apply\nthe `summary` function to an xtabs object.\n\nOption 1:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# you can nest the summary and xtabs functions\nsummary(xtabs(~cmv + diagnosis.type, \n              data = cytomegalovirus))\n```\n:::\n\n\nOption 2:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\n# or you can save the xtabs object and then run summary() on it\ncmv_and_diagnosistype <- xtabs(~cmv + diagnosis.type, \n                               data = cytomegalovirus)\nsummary(cmv_and_diagnosistype)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: xtabs(formula = ~cmv + diagnosis.type, data = cytomegalovirus)\nNumber of cases in table: 58 \nNumber of factors: 2 \nTest for independence of all factors:\n\tChisq = 0.569, df = 1, p-value = 0.4507\n```\n:::\n:::\n\n\n::: notes\nAh, and see I said we weren't going to be doing any actual hypothesis\ntesting, but there we just ran a chi-squared test of independence!\n\nWe won't get into interpreting this test right now, but I wanted to show\nyou this because you may recognize our old friend, the `summary`\nfunction. `summary` is one of several functions in R that shows up in\nquite a wide range of different circumstances, and it's smart enough to\ngive you different output depending on what you ask it to summarize.\nJust like it switched what kind of descriptive statistics it printed\nwhen we used it on a numeric vs factor variable, if you run `summary` on\na crosstab it prints out the relevant statistical test for that table!\n:::\n\n## {{< fa book-open >}} Learn more\n\nFor beautifully printed crosstabs, see [the `tbl_cross` function in the\n`gtsummary`\npackage](https://www.danieldsjoberg.com/gtsummary/articles/tbl_summary.html#tbl_cross).\n\n## {{< fa rocket >}} Coding Challenge 2\n\n::: r-fit-text\nYour turn!\n\nLook in the `summary_stats_exercises.rmd` file to find your next coding\nchallenge.\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_ae59fb7c\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Presenting Summary Statistics<br>in R\n\n![Table 1 summary statistics on the cytomegalovirus\ndata](media/cytomegalovirus_table1.png){fig-alt=\"Table 1 from the published paper on the cytomegalovirus data. Columns are \\\"1 to 4 aKIRs\\\", \\\"5 to 6 aKIRs\\\" and \\\"P value\\\". There are rows for each of the following variables: age, sex, race, diagnosis category, months from diagnosis to treatment, prior radiation therapy, number of prior chemo regimens, prior transplants, recipient CMV seropositive, donor CMV seropositive, and recipient or donor CMV seropositive.\"\nwidth=\"100%\"}\n\n::: notes\nMany research articles begin with a table summarizing the patients or\nresearch subjects analyzed, usually broken down by condition or exposure\nto allow the reader to see any baseline differences between groups. For\nexample, here is Table 1 from the paper this dataset is from.\n\nOne way to create a summary table would be to copy-paste all of your\nsummary stats from R into whatever program you use to write your\narticle. That is both error-prone and tedious, and it also means if\nanything changes in your data you need to re-do all of that work.\n\nAnother approach is creating the whole table right in R! The `gtsummary`\npackage is a great way to do that.\n:::\n\n## Creating Table 1 with `gtsummary`\n\nWe'll recreate an approximation of the cytomegalovirus Table 1 using\n`gtsummary`:\n\n![](media/cytomegalovirus_table1_cropped.png){fig-alt=\"Top half of Table 1 showing the column headers \\\"1 to 4 aKIRs\\\", \\\"5 to 6 aKIRs\\\" and \\\"P value\\\".\"}\n\n::: notes\nOften, a lot of the work you need to do to get a table to look how you\nwant is actually data cleaning work rather than anything about the\nfunction that will actually create your table. This case is no\nexception.\n\nNote that the table breaks patients down by whether their aKIRs are 1-4\nor 5-6. In the data, aKIRs are just numeric scores 1-6, so first we'll\nneed to create a factor for those two groups. Similarly, the table\ngroups all patients with at least 4 prior chemo treatments as one group.\n:::\n\n## Recoding variables for the table\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2-4|5-6|7-11|\"}\ncytomegalovirus <- cytomegalovirus |> \n  mutate(aKIRs_groups = if_else(aKIRs > 4, \n                                \"5 to 6 aKIRs\", \n                                \"1 to 4 aKIRs\"),\n         aKIRs_groups = factor(aKIRs_groups, \n                               levels = c(\"1 to 4 aKIRs\", \"5 to 6 aKIRs\")),\n         prior.chemo_groups = if_else(prior.chemo >= 4, \n                                      \"≥ 4\", \n                                      as.character(prior.chemo)),\n         prior.chemo_groups = factor(prior.chemo_groups, \n                                     levels = c(\"0\", \"1\", \"2\", \"3\", \"≥ 4\")))\n```\n:::\n\n\n. . .\n\nThe `if_else` function is what's called a ternary operator, and it has\nthree parts:\n\n-   a conditional test\n-   a value to use if the test returns `TRUE`\n-   a value to use if the test returns `FALSE`.\n\n::: notes\nLet's break that down.\n\n\\[click\\] We're using the `if_else` function to recode the numeric\nvariable `aKIRs` as one of two strings, \"5 to 6 aKIRs\" if it's greater\nthan 4 and \"1 to 4 aKIRs\" otherwise. \\[click\\] That will result in a\ncharacter vector called `aKIRs_groups`, so then with the next line we\nturn it into a factor.\n\n\\[click\\] Then we apply the same approach to the `prior.chemo` variable,\nfirst we make everything greater than or equal to 4 into \"≥ 4\", and set\nall other values to `as.character()` on whatever their original values\nwere --- this changes the numbers into string versions, so 0 becomes\n\"0\", 1 becomes \"1\", etc. That creates a new variable called\n`prior.chemo_groups`, but it's a character vector, so we turn it into a\nfactor.\n\n\\[click, click\\] The `if_else` function is what's called a ternary\noperator.\n\nIn the aKIRs example, we first tested each value to see if it was \\> 4.\nIf yes, we assigned it \"5 to 6 aKIRs\", and if no we assigned it to \"1 to\n4 aKIRs\". Note that `if_else` preserves missing values, so anything that\nwas NA in aKIRs will still be NA in aKIRs_groups.\n:::\n\n## {{< fa book-open >}} Learn more\n\nFor more on using `mutate` and `if_else`, see see the [R Basics: Data\nTransformation sections on\n`mutate`](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/r_basics_transform_data/r_basics_transform_data.md#the-mutate%28%29-function)\nand [logical\noperators](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/r_basics_transform_data/r_basics_transform_data.md#logical-operators)\nto see more examples of the kinds of conditional tests you can put in.\n\n## {{< fa circle-question >}} Troubleshooting\n\nNote that there are two different functions that look similar and do\nalmost (but not quite!) exactly the same thing: `if_else` and `ifelse`.\n\n. . .\n\n`if_else` is part of the `dplyr` package, and `ifelse` is part of base\nR. This is a common point of confusion. There are a few differences in\nhow the two functions work, but one of the big ones is that `ifelse`\ndoes NOT preserve missingness. It's a subtle difference, but watch out!\n\n## Our first attempt at Table 1\n\nNow we can use the new `aKIRs_groups` and `prior.chemo_groups` variables\nin our Table 1.\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code  code-line-numbers=\"|1|2-5|6|\"}\ncytomegalovirus |>  \n  select(aKIRs_groups, age, sex, race, \n         diagnosis.type, time.to.transplant, \n         prior.chemo_groups, prior.transplant, \n         cmv, donor.cmv) |> \n  tbl_summary(by = aKIRs_groups) \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"mlgffeuold\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#mlgffeuold table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#mlgffeuold thead, #mlgffeuold tbody, #mlgffeuold tfoot, #mlgffeuold tr, #mlgffeuold td, #mlgffeuold th {\n  border-style: none;\n}\n\n#mlgffeuold p {\n  margin: 0;\n  padding: 0;\n}\n\n#mlgffeuold .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#mlgffeuold .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#mlgffeuold .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#mlgffeuold .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#mlgffeuold .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#mlgffeuold .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#mlgffeuold .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#mlgffeuold .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#mlgffeuold .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#mlgffeuold .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#mlgffeuold .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#mlgffeuold .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#mlgffeuold .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#mlgffeuold .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#mlgffeuold .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mlgffeuold .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#mlgffeuold .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#mlgffeuold .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#mlgffeuold .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mlgffeuold .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#mlgffeuold .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mlgffeuold .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#mlgffeuold .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mlgffeuold .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mlgffeuold .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mlgffeuold .gt_left {\n  text-align: left;\n}\n\n#mlgffeuold .gt_center {\n  text-align: center;\n}\n\n#mlgffeuold .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#mlgffeuold .gt_font_normal {\n  font-weight: normal;\n}\n\n#mlgffeuold .gt_font_bold {\n  font-weight: bold;\n}\n\n#mlgffeuold .gt_font_italic {\n  font-style: italic;\n}\n\n#mlgffeuold .gt_super {\n  font-size: 65%;\n}\n\n#mlgffeuold .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#mlgffeuold .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#mlgffeuold .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#mlgffeuold .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#mlgffeuold .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#mlgffeuold .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#mlgffeuold .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">57 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.3%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">diagnosis.type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">time.to.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.chemo_groups</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">donor.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (63%)</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"3\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> Median (IQR); n (%)</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: notes\nLet's break that down.\n\n\\[click\\] We're starting with our cytomegalovirus dataframe, \\[click\\]\nand we pipe that to a `select` command to pick out just the variables we\nwant to use in our table. \\[click\\] Then we pipe that selected dataframe\nto the `tbl_summary` command, and we put in the argument\n`by = aKIRs_groups` to tell it we want the table to present summary\nstatistics for the two aKIRs groups (1-4 and 5-6) in separate columns.\n:::\n\n## Customizing a `gtsummary` table\n\nThis is a decent table! Notice there are a few things about this table\nthat we might still want to change, for example:\n\n-   row labels are taken from the variable names in the dataframe, so\n    they're lowercase and don't use whitespace as we might like (e.g.\n    \"diagnosis.type\" would be better as \"Diagnosis Type\")\n-   There's no information about significance testing, like there is in\n    the published table\n\n::: notes\nWe can add a lot of customization, though, to bring it closer to the\npublication version. We'll look at a few options now.\n:::\n\n## Save a little typing...\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable_data <- cytomegalovirus |>  \n  select(aKIRs_groups, age, sex, race, \n         diagnosis.type, time.to.transplant, \n         prior.radiation, prior.chemo_groups, \n         prior.transplant, recipient.cmv, donor.cmv)\n```\n:::\n\n\n::: notes\nTo save re-typing code and highlight just what's new, save the first\npart as `table_data`.\n:::\n\n## Add p-values\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups) |> \n  add_p()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"tgtugjtnxb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#tgtugjtnxb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#tgtugjtnxb thead, #tgtugjtnxb tbody, #tgtugjtnxb tfoot, #tgtugjtnxb tr, #tgtugjtnxb td, #tgtugjtnxb th {\n  border-style: none;\n}\n\n#tgtugjtnxb p {\n  margin: 0;\n  padding: 0;\n}\n\n#tgtugjtnxb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#tgtugjtnxb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tgtugjtnxb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tgtugjtnxb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tgtugjtnxb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tgtugjtnxb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tgtugjtnxb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tgtugjtnxb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tgtugjtnxb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#tgtugjtnxb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#tgtugjtnxb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tgtugjtnxb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tgtugjtnxb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tgtugjtnxb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tgtugjtnxb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tgtugjtnxb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tgtugjtnxb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tgtugjtnxb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#tgtugjtnxb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tgtugjtnxb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tgtugjtnxb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tgtugjtnxb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tgtugjtnxb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tgtugjtnxb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tgtugjtnxb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tgtugjtnxb .gt_left {\n  text-align: left;\n}\n\n#tgtugjtnxb .gt_center {\n  text-align: center;\n}\n\n#tgtugjtnxb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tgtugjtnxb .gt_font_normal {\n  font-weight: normal;\n}\n\n#tgtugjtnxb .gt_font_bold {\n  font-weight: bold;\n}\n\n#tgtugjtnxb .gt_font_italic {\n  font-style: italic;\n}\n\n#tgtugjtnxb .gt_super {\n  font-size: 65%;\n}\n\n#tgtugjtnxb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#tgtugjtnxb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tgtugjtnxb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#tgtugjtnxb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#tgtugjtnxb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#tgtugjtnxb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#tgtugjtnxb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/span&gt;\"><strong>p-value</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>2</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">57 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.8</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.3%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">diagnosis.type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.5</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">time.to.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.2</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.radiation</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">9 (19%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.chemo_groups</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">recipient.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.2</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (33%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">32 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">donor.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.8</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (63%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> Median (IQR); n (%)</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>2</sup></span> Wilcoxon rank sum test; Pearson’s Chi-squared test; Fisher’s exact test</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: notes\nThis is an improvement, but some of you may have noticed that the p\nvalues here don't match the published table, and the footnote explains\nwhy --- says it's using Wilcoxon rank sum test, Pearson's chi-squared,\nand Fisher's exact test to get the p vlaues.\n:::\n\n## Customize p-values\n\nThe help documentation (`?add_p.tbl_summary`) explains a little more\nthoroughly:\n\n> Tests default to \"kruskal.test\" for continuous variables\n> (\"wilcox.test\" when \"by\" variable has two levels),\n> \"chisq.test.no.correct\" for categorical variables with all expected\n> cell counts \\>=5, and \"fisher.test\" for categorical variables with any\n> expected cell count \\<5.\n\n::: notes\nIt would be nice if the published table included a footnote explaining\nwhich tests they used, but unfortunately it doesn't. We can guess that\nit was a standard t-test rather than the Wilcoxon rank sum test, though.\nWe can control which tests `gtsummary` uses by adding a `test` argument\nto the `add_p()` command. We'll also have it round to two digits instead\nof one by modifying the `pvalue_fun` command.\n:::\n\n## Customize p-values\n\nMake the p values round to 2 digits instead of 1, and use t.test instead\nof wilcoxon rank sum test:\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups) |> \n  add_p(test = list(all_continuous() ~ \"t.test\",\n                    all_categorical() ~ \"chisq.test.no.correct\"),\n        test.args = all_continuous() ~ list(var.equal = TRUE),\n        pvalue_fun = function(x) style_pvalue(x, digits = 2))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"wdwyxnpatc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#wdwyxnpatc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#wdwyxnpatc thead, #wdwyxnpatc tbody, #wdwyxnpatc tfoot, #wdwyxnpatc tr, #wdwyxnpatc td, #wdwyxnpatc th {\n  border-style: none;\n}\n\n#wdwyxnpatc p {\n  margin: 0;\n  padding: 0;\n}\n\n#wdwyxnpatc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#wdwyxnpatc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#wdwyxnpatc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#wdwyxnpatc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#wdwyxnpatc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#wdwyxnpatc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#wdwyxnpatc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#wdwyxnpatc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#wdwyxnpatc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#wdwyxnpatc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#wdwyxnpatc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#wdwyxnpatc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#wdwyxnpatc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#wdwyxnpatc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#wdwyxnpatc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wdwyxnpatc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#wdwyxnpatc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#wdwyxnpatc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#wdwyxnpatc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wdwyxnpatc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#wdwyxnpatc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wdwyxnpatc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#wdwyxnpatc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wdwyxnpatc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#wdwyxnpatc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wdwyxnpatc .gt_left {\n  text-align: left;\n}\n\n#wdwyxnpatc .gt_center {\n  text-align: center;\n}\n\n#wdwyxnpatc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#wdwyxnpatc .gt_font_normal {\n  font-weight: normal;\n}\n\n#wdwyxnpatc .gt_font_bold {\n  font-weight: bold;\n}\n\n#wdwyxnpatc .gt_font_italic {\n  font-style: italic;\n}\n\n#wdwyxnpatc .gt_super {\n  font-size: 65%;\n}\n\n#wdwyxnpatc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#wdwyxnpatc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#wdwyxnpatc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#wdwyxnpatc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#wdwyxnpatc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#wdwyxnpatc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#wdwyxnpatc .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/span&gt;\"><strong>p-value</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>2</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">57 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.43</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.62</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.3%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">diagnosis.type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">time.to.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.86</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.radiation</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">9 (19%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.chemo_groups</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.85</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">recipient.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.23</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (33%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">32 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">donor.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (63%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> Median (IQR); n (%)</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>2</sup></span> Two Sample t-test; Pearson’s Chi-squared test</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n## {{< fa heart >}} A little encouragement...\n\nIf you're feeling like these arguments look confusing (why does it start\nwith `list()`? What does the `~` mean??), you're not alone!\n\nAs you get further away from the default settings in `gtsummary` (and\nother packages), your code is likely to become less intuitive and harder\nto read. That's okay!\n\n::: notes\nPretty much no one, even an R expert, would be able to guess how to\nspecify these arguments without looking it up first. The normal,\nexpected process for something like this is to search for what you want\nto do online (e.g. \"gtsummary round p value to 2 digits\"), or look in\nthe help documentation, until you find example code that does what you\nneed and then copy it. Part of why we included these examples here is so\nyou can come back and copy them later when you're making your own\ntables!\n:::\n\n## What was that error?\n\nWhen you ran the above code, you may have noticed that R printed out\nseveral warnings with text like\n`Warning for variable 'race': simpleWarning in stats::chisq.test(x = structure(c(1L, 2L, 2L, 2L, 2L, 2L, 2L, : Chi-squared approximation may be incorrect`.\n\n::: notes\nLike many warnings in R (and other programming languages), the text is\nunfortunately not super clear. But at least it does let you know what\nvariable has a problem (race, in this case) and that it has something to\ndo with the Chi-squared test we're running on it to get those p-values.\n\nIt's beyond the scope of this talk to get into the details, but the\nreason this warning comes up is because it's actually a bad idea\nstatistically to run an uncorrected Chi-squared test on variables where\nthe expected counts are too low, as is the situation for several of the\nvariables in this table (including race). We're just trying to replicate\nthe tests that were done to get the published version of the table, but\nR is right that we're not using the best choice of tests here.\n:::\n\n## Clean up labels\n\nOne glaring issue that remains is the row labels. We don't want labels\nlike \"prior.chemo_groups\" in our final table!\n\n. . .\n\nWe can clean those up with the `label` argument in the `tbl_summary`\ncommand:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups, \n              label = list(age ~ \"Age at transplant (yrs)\",\n                           sex ~ \"Sex\",\n                           race ~ \"Race\",\n                           diagnosis.type ~ \"Diagnostic category\",\n                           time.to.transplant ~ \"Months from diagnosis to transplant\",\n                           prior.radiation ~ \"Prior radiation therapy\",\n                           prior.chemo_groups ~ \"Number of prior chemotherapy regimens\",\n                           prior.transplant ~ \"Prior transplants\",\n                           recipient.cmv ~ \"Recipient CMV seropositive\",\n                           donor.cmv ~ \"Donor CMV seropositive\")) |> \n  add_p(test = list(all_continuous() ~ \"t.test\",\n                    all_categorical() ~ \"chisq.test.no.correct\"),\n        test.args = all_continuous() ~ list(var.equal = TRUE),\n        pvalue_fun = function(x) style_pvalue(x, digits = 2))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"mfvcunrjgd\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#mfvcunrjgd table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#mfvcunrjgd thead, #mfvcunrjgd tbody, #mfvcunrjgd tfoot, #mfvcunrjgd tr, #mfvcunrjgd td, #mfvcunrjgd th {\n  border-style: none;\n}\n\n#mfvcunrjgd p {\n  margin: 0;\n  padding: 0;\n}\n\n#mfvcunrjgd .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#mfvcunrjgd .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#mfvcunrjgd .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#mfvcunrjgd .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#mfvcunrjgd .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#mfvcunrjgd .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#mfvcunrjgd .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#mfvcunrjgd .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#mfvcunrjgd .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#mfvcunrjgd .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#mfvcunrjgd .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#mfvcunrjgd .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#mfvcunrjgd .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#mfvcunrjgd .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#mfvcunrjgd .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfvcunrjgd .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#mfvcunrjgd .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#mfvcunrjgd .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#mfvcunrjgd .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfvcunrjgd .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#mfvcunrjgd .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfvcunrjgd .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#mfvcunrjgd .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfvcunrjgd .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#mfvcunrjgd .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#mfvcunrjgd .gt_left {\n  text-align: left;\n}\n\n#mfvcunrjgd .gt_center {\n  text-align: center;\n}\n\n#mfvcunrjgd .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#mfvcunrjgd .gt_font_normal {\n  font-weight: normal;\n}\n\n#mfvcunrjgd .gt_font_bold {\n  font-weight: bold;\n}\n\n#mfvcunrjgd .gt_font_italic {\n  font-style: italic;\n}\n\n#mfvcunrjgd .gt_super {\n  font-size: 65%;\n}\n\n#mfvcunrjgd .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#mfvcunrjgd .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#mfvcunrjgd .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#mfvcunrjgd .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#mfvcunrjgd .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#mfvcunrjgd .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#mfvcunrjgd .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/span&gt;\"><strong>p-value</strong><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>2</sup></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Age at transplant (yrs)</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">57 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.43</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.62</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.3%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Diagnostic category</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Months from diagnosis to transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.86</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Prior radiation therapy</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">9 (19%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Number of prior chemotherapy regimens</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.85</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Prior transplants</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (13%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Recipient CMV seropositive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.23</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (33%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">32 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Donor CMV seropositive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"><br /></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (63%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><br /></td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>1</sup></span> Median (IQR); n (%)</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;\"><sup>2</sup></span> Two Sample t-test; Pearson’s Chi-squared test</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: notes\nThis is starting to look a lot like the published paper!\n\nThere are still things to change (for example, our table prints the\nmedian with IQR for continuous variables, whereas the published paper\nprints the median with range), but this shows what the process is like\nfor building a table with `gtsummary`.\n:::\n\n## Exporting a table\n\nSo how do you get the table from R to Word? You can save the table as a\nWord doc, which you can then open and copy into your article.\n\n::: aside\nNot working in Word? No problem!\n\nYou can export your table in many different formats! For a list, see\n[the `gtsummary`\nwebsite](https://www.danieldsjoberg.com/gtsummary/articles/rmarkdown.html).\n:::\n\nTo save a table as a Word file, add the following two lines to the end\nof your table commands (you can change \"my_table.docx\" to be whatever\nyou want the file name to be):\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  as_flex_table() |> \n  flextable::save_as_docx(path = \"my_table.docx\")\n```\n:::\n\n\n## {{< fa circle-question >}} Troubleshooting\n\nNote that this requires a function from the `flextable` package. If\nyou've never used `flextable` before, you may need to run\n`install.packages(\"flextable\")` before this code will work.\n\n## Exporting a table\n\nFor example, to save the table above, you could do the following:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups, \n              label = list(age ~ \"Age at transplant (yrs)\",\n                           sex ~ \"Sex\",\n                           race ~ \"Race\",\n                           diagnosis.type ~ \"Diagnostic category\",\n                           time.to.transplant ~ \"Months from diagnosis to transplant\",\n                           prior.radiation ~ \"Prior radiation therapy\",\n                           prior.chemo_groups ~ \"Number of prior chemotherapy regimens\",\n                           prior.transplant ~ \"Prior transplants\",\n                           recipient.cmv ~ \"Recipient CMV seropositive\",\n                           donor.cmv ~ \"Donor CMV seropositive\")) |> \n  add_p(test = list(all_continuous() ~ \"t.test\",\n                    all_categorical() ~ \"chisq.test.no.correct\"),\n        test.args = all_continuous() ~ list(var.equal = TRUE),\n        pvalue_fun = function(x) style_pvalue(x, digits = 2)) |> \n  as_flex_table() |> \n  flextable::save_as_docx(path = \"my_table.docx\")\n```\n:::\n\n\n::: notes\nBy default, `flextable::save_as_docx` will save the table in your\ncurrent working directory. To save it somewhere else, use the `path`\nargument to specify which folder you want to save it in (for example,\n\"reports/table1.docx\").\n:::\n\n## {{< fa book-open >}} Learn more\n\nFor a review of how to specify a path, see the [explanation of absolute\nand relative paths in our Directories and File Paths\nmodule](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/directories_and_file_paths/directories_and_file_paths.md#file-paths).\n\n## {{< fa rocket >}} Coding Challenge 3: Homework!\n\nFor your final coding challenge, return to RStudio and follow the\ninstructions there to create a Table 1 for a brand new data set, the\n[laryngoscope\ndata](https://www.causeweb.org/tshs/datasets/Laryngoscope%20Dataset%20Introduction.pdf).\n\nHere's the published table you'll be trying to recreate:\n\n![Table 1 from the published article on the laryngoscope\ndata.](media/laryngoscope_table1.png)\n\n. . .\n\nFor inspiration (and lots of examples of things to try), check out [the\n`tbl_summary` help\ndocumentation](https://www.danieldsjoberg.com/gtsummary/articles/tbl_summary.html).\n\n::: notes\nHave fun, and don't worry about getting everything perfect --- if you\nget stuck on part of the table, just move on and try something else. The\ngoal is to get practice using the `gtsummary` commands.\n:::\n\n## {{< fa rocket >}} Coding Challenge 3: Homework!\n\nDon't struggle in silence!\n\n::: incremental\n-   Ask questions and share tips on the CHOPR slack\n-   Come to [R Office Hours](https://bit.ly/chopROfficeHours) to show\n    off your progress and get help\n-   There's a solution available in `summary_stats_solutions.Rmd`, but\n    you'll learn a lot more if you try it yourself first\n:::\n\n## What we covered\n\n::: incremental\n-   getting example data from the `medicaldata` package\n-   `summary()`\n-   `min()`, `max()`, `mean()`, `median()`, `var()`, `sd()`,\n    `quantile()`\n-   `table()`\n-   `xtabs()`\n-   building tables with `gtsummary` package, specifically using\n    `tbl_summary()`\n-   a bunch of extras throughout on data transformations and data\n    cleaning\n:::\n\n::: notes\nThat's a lot! So don't expect to remember everything --- you have the\nslides and all the example code to go back to. My goal for you all is\nfor you to come away with a general impression of how to go about\ngetting summary stats in R, and to know where there's some code for you\nto copy if you want to make a Table 1.\n:::\n\n# Additional resources\n\nFor general background on statistics:\n\n-   [StatsQuest videos on Statistics\n    Fundamentals](https://www.youtube.com/playlist?list=PLblh5JKOoLUK0FLuzwntyYI10UQFUhsY9)\n-   [Videos on statistics from Kahn\n    Academy](https://www.khanacademy.org/math/statistics-probability)\n\nFor more on the `gtsummary` package, see their website, especially the\n[FAQ and gallery of example\ntables](https://www.danieldsjoberg.com/gtsummary/articles/gallery.html)\n\n# Shameless Plug \\#1\n\nWant to go through this material again? \nIt's posted as [an interactive\ntutorial online](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/r_summary_stats/r_summary_stats.md#1) as part of [DART\n(Data and Analytics for Research\nTraining)](https://arcus.github.io/education_modules/)!\n<br>\n<br>\n\n. . .\n\nYou can also explore the rest of the DART modules with the [new module discovery app prototype](https://learn.arcus.chop.edu)\n\n# Shameless Plug \\#2\n\n**Have funding for your research project and interested in working with an experienced biostatistician or data scientist to analyze your data?**\n<br>\n<br>\n\n. . .\n\nThe Data Science and Biostatistics Unit (DSBU) is DBHi’s and CHOP Research Institute’s centralized service unit for biostatistics and data science analysis support. Reach out to Alexis Zavez (zaveza\\@chop.edu) or Keith Baxelbaum (baxelbaumk\\@chop.edu) for more info! \n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}