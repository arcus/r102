{
  "hash": "4430236995c56334de68e222fef24d71",
  "result": {
    "markdown": "---\ntitle: \"Summary Statistics <br> in R\"\nauthor: \"Update\"\ninstitute: \"Update\"\ndate: \"2023-06-22\"\n---\n\n\n-   Use keyboard arrow keys to\n    -   advance ( → ) and\n    -   go back ( ← )\n-   Type \"s\" to see speaker notes\n-   Type \"?\" to see other keyboard shortcuts\n\n\n::: {.cell}\n\n:::\n\n\n## Join the CHOP R User Group\n\n\n::: {.columns .v-center-container}\n::: {.column width=\"50%\"}\n![](media/chopr.png){fig-alt=\"CHOPR hex sticker logo\" width=\"100%\"}\n:::\n\n::: {.column width=\"50%\"}\n- Friendly help troubleshooting your R code\n- Announcements for upcoming talks, workshops, and conferences\n:::\n:::\n\nLink to join: [https://bit.ly/chopRusers](https://bit.ly/chopRusers)\n\n::: notes\nJust a few announcements before we get started. \nFor anyone here today that isn't already part of the CHOP R User group, I strongly encourage you to join (it is also open to Penn folks). The CHOP R User group has more than 400 members from all departments. This is great place to network with other R users, get help with coding problems, and learn about new packages, webinars, and conferences. We also have semi-regular meetings and workshops, like this one. \n\n:::\n\n## Come to R Office Hours!\n\n- Set up a meeting to get live help with your R code from our most experienced useRs\n- Office hours appointments can be one-on-one or open to the community\n\nLink to calendar: [https://bit.ly/chopROfficeHours](https://bit.ly/chopROfficeHours)\n\n::: aside\nWe're looking for more volunteers to lead appointments! Get in touch: hartmanr1@chop.edu\n:::\n\n::: notes\nWe have regular office hours appointments available to get R help. \nWe're offering two kinds of appointments: one-on-one, if you want individual help, or open appointments that are more of a community conversation about whatever R questions people bring up that day. The open appointments can be particularly valuable to attend if you want to hear other people's questions about R but maybe don't have a project of your own that you're troubleshooting at the moment. \nWe set up a calendar online where you can book an appointment. \n[click] And if you like this idea and you're an experienced R user yourself, consider joining us to offer appointments! It's just whatever times work for you, so we can set up a schedule around whatever other work you've got going on. Reach out to me via email or slack for details.  \n:::\n\n## Coming soon! R 101 Workshop\n\nWe are offering the popular **Introduction to R for Clinical Data** workshop again!\n\n**Wednesday, August 16, 2023 from 8:30 AM - 1:30 PM**\n\nLink to sign up: [https://redcap.link/august_2023_r_workshop](https://redcap.link/august_2023_r_workshop)\n\n. . . \n\nAttended an R 101 workshop in the past? Consider joining as a TA!\n\n::: notes\nWe're increasing the registration cap to allow for more people this time around, but it usually does fill up so if you want to attend be sure to sign up soon. \n\nNote that if you've attended R 101 in the past, this will be the same content again; it's not a new workshop. [click] If you have attended the R 101 workshop before, we'd love to have you join as a TA! You'll see an email about this in the coming weeks, but I wanted to mention it now to put it on your radar.\n::: \n\n# R 201: <br> Summary Statistics\n\n::: notes\nOkay! So this talk is a quick dip into some 201-level R. In other words, if you've had a little exposure to R before, such as through an Intro to R for Clinical Data workshop, this is hopefully the right level for you now. \nIf you're completely brand new to R, first of all: Welcome! You may find it tricky to actively follow along with the code today since I'm going to skim over some of the initial steps, but go ahead and give it a try, or just listen and watch if that feels more like the right speed. \n\nOur topic is getting summary statistics in R, the first step to pretty much any analysis. We'll also look at how to present those summary stats in a lovely, publication-ready Table 1. Please feel very free to stop me with questions, either by unmuting or in the chat – I've left plenty of extra time in the talk, so there's space for us to stop and talk about things. \n:::\n\n## What we're covering today\n\n. . .\n\n* How to get summary stats in R for both continuous and categorical variables\n\n. . .\n\n* How to create a publication-ready Table 1\n\n. . .\n\n* NOT teaching the full analysis in R pipeline -- we're glossing over importing data and tidying data\n\n. . .\n\n* NOT teaching formal statistical modeling (e.g. hypothesis testing)\n\n## Thinking About Summary Statistics\n\nSummary statistics, also called descriptive statistics, serve a few important functions:\n\n-   understand your data better during exploratory data analysis\n-   give you an idea of what your study population was like at baseline\n-   show preexisting differences between groups\n\n::: notes\n-   they help you understand your data better during exploratory data analysis (including things like catching errors or outliers!)\n-   they give you (and your readers) a better idea of what your study population was like at baseline, which has implications for how generalizable your results might be\n-   they can show any preexisting differences between groups (or lack thereof), which is important for interpreting any differences between groups after treatment\n:::\n\n## Which statistic?\n\n. . .\n\nCategorical variables:\n\n-   counts\n\n. . .\n\nContinuous variables:\n\n-   central tendency\n-   variability\n\n::: notes\nFor categorical variables, summary statistics are generally limited to counts in each category (for example, how many patients tested positive and negative for CMV?).\n\nFor continuous variables, there are many more options. Summary statistics generally focus on **central tendency** and **variability**. In other words, where on the scale are the data located, and how spread out are the data?\n:::\n\n## Central tendency\n\n. . .\n\nMeasures of central tendency:\n\n- mean\n- median\n\n::: notes\nFor example, consider a variable like age. A measure of central tendency would tell you, generally, how old are the research subjects? Is this a pediatric population, or adult?\n\n[click]Examples of statistics that capture central tendency are the **mean** and the **median**. Let's say the mean age of participants in our study was 45. Now you have an idea of where on the scale we are --- this is not a population of children, nor is it a study about advanced age.\n:::\n\n## Variability\n\n. . .\n\nMeasures of variability:\n\n- variance\n- standard deviation\n- interquartile range\n- range\n\n::: notes\nBut how spread out are the data? This could be a population sampled from across the lifespan, with participants ranging from 5 to 90, or it could be a focused investigation of people in middle age, with all of the subjects in their 40s or even in their mid-40s.\n\nExamples of statistics that capture variability are **variance**, **standard deviation**, **interquartile range**, and **range**.\n:::\n\n## {{< fa book-open >}} Learn more\n\nWe won't get into the mathematical definitions of each of these statistics here, but if you'd like a refresher, check out these excellent Khan academy videos:\n\n-   [Statistics Intro: Mean, Median, and Mode](https://www.khanacademy.org/math/engageny-alg-1/alg1-2/alg1-2a-center/v/statistics-intro-mean-median-and-mode)\n-   [Measures of Spread: Range, Variance, and Standard Deviation](https://www.khanacademy.org/math/statistics-probability/summarizing-quantitative-data/variance-standard-deviation-population/v/range-variance-and-standard-deviation-as-measures-of-dispersion)\n-   [Interquartile Range (IQR)](https://www.khanacademy.org/math/engageny-alg-1/alg1-2/alg1-2b-interquartile-range/v/calculating-interquartile-range-iqr)\n\n::: notes\nI've got a few of these \"learn more\" slides thrown in throughout the presentation. They include links to resources I like for learning more about the topics we're covering. I won't click through to any of these resources now, but you have access to the slides so feel free to go back and review these links later if you like!\n:::\n\n## Getting Summary Statistics in R\n\nTwo options:\n\n1. Work in the cloud: [https://posit.cloud/content/6126628](https://posit.cloud/content/6126628)\n2. Work on your computer: [https://github.com/arcus/education_r_environment](https://github.com/arcus/education_r_environment)\n\n::: notes\nTime to start coding! By far the best way to learn R is to practice, so work through this code yourself as you follow along.\n\nThis link will take you to Posit Cloud, which gives you a way to work with the code right in your browser without having to install anything on your machine. You will need to create a free account if you don't already have one. I'll click that link now, and log in with a different account than the one I used to create it so you can see what it looks like. It will take a few minutes to load.\n\nYou can also get all of the code for this talk directly from our GitHub and download it to work on your own machine. If you want to go this route, go to our GitHub repo and then find this green \"Code\" button. If click it you'll see you have several options, one of which is downloading a zip file -- click that and it will download all the files you need for this talk. Once it's done downloading, double click it to unzip the file. If you're comfortable using git, you can also clone the repo, or fork it if you'd like a personal copy. And if you don't know what cloning and forking are, no worries! Just use the zip file. \n:::\n\n## The packages we'll be using today\n\n![](https://www.tidyverse.org/images/hex-tidyverse.png){.absolute top=200 left=0 width=\"300\" fig-alt=\"tidyverse hex sticker logo.\"}\n![](https://higgi13425.github.io/medicaldata/logo.png){.absolute top=200 left=350 width=\"300\" fig-alt=\"medicaldata hex sticker logo.\"}\n![](https://www.danieldsjoberg.com/gtsummary/reference/figures/logo.png){.absolute top=182 right=0 width=\"400\" fig-alt=\"gtsummary hex sticker logo.\"}\n\n::: notes\nFirst, we need to load the `tidyverse` packages, since we'll be using several functions that come in the `tidyverse`.\nWe'll also load the `medicaldata` package, which includes several publicly available data sets with medical data. \nAnd we'll load the `gtsummary` package for creating publication-ready tables.\n:::\n\n## {{< fa book-open >}} Learn more\n\nThere's a lot of helpful information (including examples and tutorials) on the package websites for each of the packages we'll be using:\n\n- [tidyverse](https://www.tidyverse.org/)\n- [medicaldata](https://higgi13425.github.io/medicaldata/)\n- [gtsummary](https://www.danieldsjoberg.com/gtsummary)\n\n::: notes\nThese packages all have excellent websites available with lots of great tutorials and such, so definitely go back and look at those websites if you want to learn more. \n\nI'll also pause here for a moment to invite anyone that is having trouble getting access to the code, either with that Posit Cloud link or by downloading the files, to let us know in the chat. If you have the code pulled up and ready to go, please click the thumbs up reaction in Teams to let me know you're ready. \n:::\n\n## Load packages\n\nOnly if needed:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(c(\"tidyverse\", \"medicaldata\", \"gtsummary\"))\n```\n:::\n\n\n<br>\nEach R session:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(medicaldata) \nlibrary(gtsummary)\n```\n:::\n\n\n::: notes\nIf you're running this on your own computer rather than in the cloud instance we set up, you may need to run `install.packages` first if you haven't ever used these packages before. If you're working in the cloud, then all three packages have already been installed for you.\n\nEither way, the library commands here are written out for you in the first chunk of the file `summary_stats_exercises.rmd`. Go ahead and open that file now, and click the green arrow to run those three lines.\n:::\n\n## The data\n\nIn the console or in the exercises rmd file, run the following command:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nhead(cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  ID age sex race                    diagnosis diagnosis.type\n1  1  61   1    0       acute myeloid leukemia              1\n2  2  62   1    1         non-Hodgkin lymphoma              0\n3  3  63   0    1         non-Hodgkin lymphoma              0\n4  4  33   0    1             Hodgkin lymphoma              0\n5  5  54   0    1 acute lymphoblastic leukemia              0\n6  6  55   1    1                myelofibrosis              1\n  time.to.transplant prior.radiation prior.chemo prior.transplant recipient.cmv\n1               5.16               0           2                0             1\n2              79.05               1           3                0             0\n3              35.58               0           4                0             1\n4              33.02               1           4                0             1\n5              11.40               0           5                0             1\n6               2.43               0           0                0             1\n  donor.cmv donor.sex TNC.dose CD34.dose CD3.dose CD8.dose TBI.dose C1/C2 aKIRs\n1         0         0    18.31      2.29     3.21     0.95      200     0     1\n2         0         1     4.26      2.04       NA       NA      200     1     5\n3         1         0     8.09      6.97     2.19     0.59      200     0     3\n4         0         1    21.02      6.09     4.87     2.32      200     0     2\n5         1         0    14.70      2.36     6.55     2.40      400     0     6\n6         1         1     4.29      6.91     2.53     0.86      200     0     2\n  cmv time.to.cmv agvhd time.to.agvhd cgvhd time.to.cgvhd\n1   1        3.91     1          3.55     0          6.28\n2   0       65.12     0         65.12     0         65.12\n3   0        3.75     0          3.75     0          3.75\n4   0       48.49     1         28.55     1         10.45\n5   0        4.37     1          2.79     0          4.37\n6   1        4.53     1          3.88     0          6.87\n```\n:::\n:::\n\n\n::: notes\nThis command is also written out for you in the `summary_stats_exercises.rmd` file, in the next code chunk.\n\nLet's take a look at the data. [click]\n\nYou should see the first six rows of the cytomegalovirus data frame, which look like this.\n\nNote that this is one of the example datasets that comes built-in when you install the `medicaldata` package, so it's already available to you without you having to read it in or download anything.\n\nFor those of you that have worked in R before, you know importing data is a whole thing, so we're definitely skipping over a potentially tricky bit by using built-in data, but we only have so much time today and I wanted to be able to put as much time as possible towards actually working with the summary statistics. So we're just merrily skipping past all the importing and tidying that would normally happen.\n:::\n\n## About these data\n\nTo learn more about this dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?cytomegalovirus\n```\n:::\n\n\n. . .\n\nFrom the help documentation: \n\n> This data set contains 64 consecutive patients who underwent T-cell replete, matched sibling donor reduced-intensity conditioning allogeneic hematopoietic stem cell transplant. The primary risk factor of interest was the number of activating killer immunoglobulin-like receptors (aKIRs: 1-4 vs. 5-6). \n\n::: notes\nFor those of you who are (like me) typo-prone, I recommend using tab-completion for the dataframe name. Start typing `cyt` and then pause a moment and you should see RStudio suggest the correct name. Hit tab to fill it in.\n:::\n\n## {{< fa book-open >}} Learn more\n\n- To learn more about the cytomegalovirus data and the study behind it, read [Sobecks et al. 2011](https://pubmed.ncbi.nlm.nih.gov/21605017/).\n- To learn more about the `medicaldata` R package these data are published in, see the [`medicaldata` package website](https://higgi13425.github.io/medicaldata/) -- and note that the maintainers are always looking for more data contributions!\n\n## Using `summary()`\n\nFirst try running `summary()` on just the `age` column:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus$age)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  29.00   46.00   55.00   52.44   61.00   67.00 \n```\n:::\n:::\n\n\n::: notes\nThe best place to start your exploratory data analysis is often the `summary` function.\nYou can run it on an individual column, or on a whole dataframe.\n\nSo let's look at what we get from running `summary` on the age column. Min is 29, Max is 67. The youngest patient is 29 and the oldest is 67. It's also printing the 1st Quartile (25th percentile), Median, Mean, and 3rd Quartile (75th percentile) for us. \n:::\n\n## Using `summary()`\n\nNow try running `summary` on the whole dataframe all at once:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       ID             age             sex              race       \n Min.   : 1.00   Min.   :29.00   Min.   :0.0000   Min.   :0.0000  \n 1st Qu.:16.75   1st Qu.:46.00   1st Qu.:0.0000   1st Qu.:1.0000  \n Median :32.50   Median :55.00   Median :1.0000   Median :1.0000  \n Mean   :32.50   Mean   :52.44   Mean   :0.5312   Mean   :0.9062  \n 3rd Qu.:48.25   3rd Qu.:61.00   3rd Qu.:1.0000   3rd Qu.:1.0000  \n Max.   :64.00   Max.   :67.00   Max.   :1.0000   Max.   :1.0000  \n                                                                  \n  diagnosis         diagnosis.type   time.to.transplant prior.radiation \n Length:64          Min.   :0.0000   Min.   :  1.84     Min.   :0.0000  \n Class :character   1st Qu.:0.0000   1st Qu.:  8.15     1st Qu.:0.0000  \n Mode  :character   Median :1.0000   Median : 13.70     Median :0.0000  \n                    Mean   :0.5172   Mean   : 30.85     Mean   :0.1719  \n                    3rd Qu.:1.0000   3rd Qu.: 33.28     3rd Qu.:0.0000  \n                    Max.   :1.0000   Max.   :173.83     Max.   :1.0000  \n                    NA's   :6        NA's   :1                          \n  prior.chemo    prior.transplant recipient.cmv     donor.cmv     \n Min.   :0.000   Min.   :0.0000   Min.   :0.000   Min.   :0.0000  \n 1st Qu.:1.000   1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000  \n Median :2.000   Median :0.0000   Median :1.000   Median :1.0000  \n Mean   :2.188   Mean   :0.1875   Mean   :0.625   Mean   :0.5938  \n 3rd Qu.:3.000   3rd Qu.:0.0000   3rd Qu.:1.000   3rd Qu.:1.0000  \n Max.   :8.000   Max.   :1.0000   Max.   :1.000   Max.   :1.0000  \n                                                                  \n   donor.sex      TNC.dose       CD34.dose         CD3.dose       CD8.dose    \n Min.   :0.0   Min.   : 2.06   Min.   : 2.040   Min.   :1.08   Min.   :0.160  \n 1st Qu.:0.0   1st Qu.: 6.89   1st Qu.: 4.165   1st Qu.:3.08   1st Qu.:0.805  \n Median :0.5   Median :10.48   Median : 5.840   Median :3.98   Median :1.200  \n Mean   :0.5   Mean   :10.44   Mean   : 5.546   Mean   :4.30   Mean   :1.323  \n 3rd Qu.:1.0   3rd Qu.:13.42   3rd Qu.: 6.990   3rd Qu.:5.48   3rd Qu.:1.663  \n Max.   :1.0   Max.   :21.02   Max.   :12.510   Max.   :8.18   Max.   :3.190  \n                                                NA's   :3      NA's   :12     \n    TBI.dose         C1/C2            aKIRs            cmv        \n Min.   :200.0   Min.   :0.0000   Min.   :1.000   Min.   :0.0000  \n 1st Qu.:200.0   1st Qu.:0.0000   1st Qu.:1.000   1st Qu.:0.0000  \n Median :200.0   Median :1.0000   Median :2.000   Median :0.0000  \n Mean   :287.5   Mean   :0.5156   Mean   :2.844   Mean   :0.4062  \n 3rd Qu.:400.0   3rd Qu.:1.0000   3rd Qu.:4.250   3rd Qu.:1.0000  \n Max.   :400.0   Max.   :1.0000   Max.   :6.000   Max.   :1.0000  \n                                                                  \n  time.to.cmv         agvhd        time.to.agvhd        cgvhd       \n Min.   : 0.430   Min.   :0.0000   Min.   : 0.660   Min.   :0.0000  \n 1st Qu.: 2.712   1st Qu.:0.0000   1st Qu.: 2.623   1st Qu.:0.0000  \n Median : 5.030   Median :0.0000   Median : 5.800   Median :0.0000  \n Mean   :13.206   Mean   :0.4062   Mean   :15.605   Mean   :0.4375  \n 3rd Qu.:16.012   3rd Qu.:1.0000   3rd Qu.:21.410   3rd Qu.:1.0000  \n Max.   :84.470   Max.   :1.0000   Max.   :85.190   Max.   :1.0000  \n                                                                    \n time.to.cgvhd   \n Min.   : 0.820  \n 1st Qu.: 3.848  \n Median : 6.735  \n Mean   :10.304  \n 3rd Qu.:11.307  \n Max.   :65.120  \n                 \n```\n:::\n:::\n\n\n::: notes\nNow let's try running it on the whole data frame at once.\n\n[click] You should see a summary of each of the 26 variables in the data, with a set of summary statistics printed under each. This is a great way to get a lot of information quickly. \nThe `summary` function is clever enough to print different summary statsitics for different variable types --- it won't try to calculate the mean or median of a categorical variable (called a factor in R), for example, since that wouldn't be meaningful.\n\nThe `summary` function checks what type of variable (numeric, categorical/factor, etc.) is in each column and returns sensible summary statistics for each. For a factor, you get the count for each level, and also a count of how many observations are missing. For numeric variables, you get the range (minimum and maximum), the 1st quartile, median, mean, 3rd quartile, and the count of missing observations. \n\nIn this dataframe, most of the data are numeric. There is one column, diagnosis, that shows up as character. If you look at the help documentation for the data set (`?cytomegalovirus`), you'll see that should actually be a factor with 13 levels. If it were a factor, we could get more useful summary statistics for it, too.\n:::\n\n## Convert to factor\n\nConvert diagnosis column from character to factor:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncytomegalovirus$diagnosis <- as.factor(cytomegalovirus$diagnosis)\n```\n:::\n\n\n. . .\n\nRe-run the summary for that column:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus$diagnosis)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nacute lymphoblastic leukemia       acute myeloid leukemia \n                           1                           12 \n             aplastic anemia chronic lymphocytic leukemia \n                           1                            5 \n    chronic myeloid leukemia            congenital anemia \n                           4                            1 \n            Hodgkin lymphoma            multiple myelomas \n                           3                            7 \n    myelodysplastic syndrome                myelofibrosis \n                           9                            4 \n myeloproliferative disorder         non-Hodgkin lymphoma \n                           1                           12 \n        renal cell carcinoma \n                           4 \n```\n:::\n:::\n\n\n::: notes\nNow we get counts for each type of diagnosis! Much better.\n\nThere are also several other variables that are represented in the data\nas 0 or 1, but should really be considered as factors. We’ll clean those\nup now.\n:::\n\n## Convert to factor\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2|\"}\ncytomegalovirus <- cytomegalovirus |> \n  mutate(sex = factor(sex, levels = c(0, 1), labels = c(\"Female\", \"Male\")),\n         race = factor(race, levels = c(0, 1), labels = c(\"African-American\", \"White\")),\n         diagnosis.type = factor(diagnosis.type, levels = c(0, 1), labels = c(\"Lymphoid\", \"Myeloid\")),\n         prior.radiation = factor(prior.radiation, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         prior.transplant = factor(prior.transplant, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         donor.cmv = factor(donor.cmv, levels = c(0, 1), labels = c(\"Negative\", \"Positive\")),\n         recipient.cmv = factor(recipient.cmv, levels = c(0, 1), labels = c(\"Negative\", \"Positive\")),\n         donor.sex = factor(donor.sex, levels = c(0, 1), labels = c(\"Male\", \"Female\")),\n         `C1/C2` = factor(`C1/C2`, levels = c(0, 1), labels = c(\"Heterozygous\", \"Homozygous\")),\n         cmv = factor(cmv, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         agvhd = factor(agvhd, levels = c(0, 1), labels = c(\"No\", \"Yes\")),\n         cgvhd = factor(cgvhd, levels = c(0, 1), labels = c(\"No\", \"Yes\"))\n         )\n```\n:::\n\n\n::: notes\nWe could do it with individual commands using `as.factor` like we did for diagnosis, but instead we’ll take a look at another approach. Also note that this code is ready for you in the `summary_stats_exercises.Rmd` file --- no need to try to type this all out now.\n\nLet’s break that down. We’re using `mutate` to make changes to the\ncolumns in the dataframe. You can use `mutate` to create new columns,\nbut in this case we’re just overwriting existing columns. Within the\nmutate command, we have a different argument for each column we want to\nchange. They all take the form\n`column_name = factor(column_name, levels = c(), labels = c())` where\nthe levels are the existing values in the colum already (e.g. 0 and 1)\nand labels are what we want them to show up as in the factor (e.g. “no”\nand “yes”). Note that the order of levels and labels has to line up, so\nthe first level will get the first label, and the second level will get\nthe second label, etc. To learn more about the `factor()` command, check\nout its help documentation with `?factor`.\n:::\n\n## {{< fa book-open >}} Learn more\n\nA few things from the above code that you might want to look into further:\n\n- Pipes! See [R4DS Ch 18: Pipes](https://r4ds.had.co.nz/pipes.html), or the not-quite-published [2nd edition R4DS section on pipes](https://r4ds.hadley.nz/data-transform.html#sec-the-pipe), which uses the new `|>` instead of `%>%`.\n- If you're curious, a [comparison of the new and old pipes](https://www.tidyverse.org/blog/2023/04/base-vs-magrittr-pipe/).\n- More about `mutate` and data transformation in general in [R4DS section on mutate](https://r4ds.hadley.nz/data-transform.html#sec-mutate)\n\n## {{< fa circle-question >}} Troubleshooting\n\nIf you make a mistake modifying the data, how can you undo it?\n\nIf this were a dataset we read in from an external file (like a .csv), you could just read it in again to get a fresh copy. \nBut how do you get a fresh copy of a built-in dataset? \n\n. . .\n\nTo reset the data to its original state, run `rm(cytomegalovirus)` in the console. This will delete your current version of the data from R's environment, and you'll just be left with the original clean copy from the `medicaldata` package.\n\n::: notes\nRemember: If you run `rm(cytomegalovirus)` to reset the data, you'll need to re-run any changes you made to the data that you want to keep, like converting `diagnosis` to a factor above. \n:::\n\n## Summary again\n\nLet’s run `summary` on the whole dataframe again to see the results now\nthat we’ve cleaned up the column types.\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       ID             age            sex                   race   \n Min.   : 1.00   Min.   :29.00   Female:30   African-American: 6  \n 1st Qu.:16.75   1st Qu.:46.00   Male  :34   White           :58  \n Median :32.50   Median :55.00                                    \n Mean   :32.50   Mean   :52.44                                    \n 3rd Qu.:48.25   3rd Qu.:61.00                                    \n Max.   :64.00   Max.   :67.00                                    \n                                                                  \n                        diagnosis   diagnosis.type time.to.transplant\n acute myeloid leukemia      :12   Lymphoid:28     Min.   :  1.84    \n non-Hodgkin lymphoma        :12   Myeloid :30     1st Qu.:  8.15    \n myelodysplastic syndrome    : 9   NA's    : 6     Median : 13.70    \n multiple myelomas           : 7                   Mean   : 30.85    \n chronic lymphocytic leukemia: 5                   3rd Qu.: 33.28    \n chronic myeloid leukemia    : 4                   Max.   :173.83    \n (Other)                     :15                   NA's   :1         \n prior.radiation  prior.chemo    prior.transplant  recipient.cmv    donor.cmv \n No :53          Min.   :0.000   No :52           Negative:24    Negative:26  \n Yes:11          1st Qu.:1.000   Yes:12           Positive:40    Positive:38  \n                 Median :2.000                                                \n                 Mean   :2.188                                                \n                 3rd Qu.:3.000                                                \n                 Max.   :8.000                                                \n                                                                              \n  donor.sex     TNC.dose       CD34.dose         CD3.dose       CD8.dose    \n Male  :32   Min.   : 2.06   Min.   : 2.040   Min.   :1.08   Min.   :0.160  \n Female:32   1st Qu.: 6.89   1st Qu.: 4.165   1st Qu.:3.08   1st Qu.:0.805  \n             Median :10.48   Median : 5.840   Median :3.98   Median :1.200  \n             Mean   :10.44   Mean   : 5.546   Mean   :4.30   Mean   :1.323  \n             3rd Qu.:13.42   3rd Qu.: 6.990   3rd Qu.:5.48   3rd Qu.:1.663  \n             Max.   :21.02   Max.   :12.510   Max.   :8.18   Max.   :3.190  \n                                              NA's   :3      NA's   :12     \n    TBI.dose              C1/C2        aKIRs        cmv      time.to.cmv    \n Min.   :200.0   Heterozygous:31   Min.   :1.000   No :38   Min.   : 0.430  \n 1st Qu.:200.0   Homozygous  :33   1st Qu.:1.000   Yes:26   1st Qu.: 2.712  \n Median :200.0                     Median :2.000            Median : 5.030  \n Mean   :287.5                     Mean   :2.844            Mean   :13.206  \n 3rd Qu.:400.0                     3rd Qu.:4.250            3rd Qu.:16.012  \n Max.   :400.0                     Max.   :6.000            Max.   :84.470  \n                                                                            \n agvhd    time.to.agvhd    cgvhd    time.to.cgvhd   \n No :38   Min.   : 0.660   No :36   Min.   : 0.820  \n Yes:26   1st Qu.: 2.623   Yes:28   1st Qu.: 3.848  \n          Median : 5.800            Median : 6.735  \n          Mean   :15.605            Mean   :10.304  \n          3rd Qu.:21.410            3rd Qu.:11.307  \n          Max.   :85.190            Max.   :65.120  \n                                                    \n```\n:::\n:::\n\n\n::: notes\n[click] The results are much more useful now that we’ve cleaned up the column types!\n:::\n\n## Individual summary statistics\n\nWhat is the shortest time from diagnosis to transplant in the data? \n\n::: aside\nYou can see in the help documentation for the data (`?cytomegalovirus`) that `time.to.transplant` is in months.\n:::\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nmin(cytomegalovirus$time.to.transplant)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] NA\n```\n:::\n:::\n\n\n::: notes\nWe can get the minimum of any numeric variable with the function `min`.\n\n[click] Uh-oh! It returns `NA` for this because there is a missing observation somewhere in this column. \n:::\n\n## Checking the help documentation\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?min\n```\n:::\n\n\nFrom the help documentation for `min`:\n\n> **Usage**\n>\n> `max(..., na.rm = FALSE)`\n>\n> `min(..., na.rm = FALSE)`\n\n::: notes\nIf you look at `?min`, you’ll see the default for this function (and most statistics functions in R) is `na.rm = FALSE`, which basically means “only compute a value if there are no missing observations”.\n::: \n\n## Working around missing values\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nmin(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.84\n```\n:::\n:::\n\n\n::: notes\nQuick aside here about a handy shortcut when you're working in the console. \nIf you want to tweak a line of code you just ran, you can use the up arrow on your keyboard to bring up the last command you ran. Then you can edit it, and hit enter to run the tweaked version.\n\nTo get the minimum for this column ignoring the missing value, use the up arrow to bring up your last command and add `na.rm = TRUE`.\n:::\n\n## More individual statistics\n\nWhat is the longest time from diagnosis to transplant?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmax(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 173.83\n```\n:::\n:::\n\n\n. . .\n\nWhat is the mean time to transplant?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 30.84556\n```\n:::\n:::\n\n\n. . .\n\nMore individual statistics:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmedian(cytomegalovirus$time.to.transplant, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 13.7\n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvar(cytomegalovirus$time.to.transplant, na.rm = TRUE) # variance\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1638.105\n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(cytomegalovirus$time.to.transplant, na.rm = TRUE) # standard deviation\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 40.47351\n```\n:::\n:::\n\n\n\n::: notes\nSince we're running these all on the same column, you can use the up arrow to tweak the command each time.\n:::\n\n## {{< fa rocket >}} Coding Challenge 1\n\n::: {.r-fit-text}\nYour turn!\n\nLook in the `summary_stats_exercises.rmd` file to find your first coding challenge. \n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_34fded94\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n::: notes\nWe'll just work on this for a couple minutes and if you don't finish during that time, no sweat, just pause wherever you are and we'll take a look at the solutions together. \n:::\n\n## Counts\n\nFor categorical variables, summary statistics are just counts. \n\nWe'll look at two ways to get the counts for a single categorical variable in R:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nsummary(cytomegalovirus$diagnosis.type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLymphoid  Myeloid     NA's \n      28       30        6 \n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable(cytomegalovirus$diagnosis.type)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nLymphoid  Myeloid \n      28       30 \n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable(cytomegalovirus$diagnosis.type, useNA = \"always\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nLymphoid  Myeloid     <NA> \n      28       30        6 \n```\n:::\n:::\n\n\n::: notes\nYou can use `summary` to get counts for factors, but it won’t work on\ncharacter vectors, whereas `table` works to get counts on factors or\ncharacters. \n\nNote that `table` doesn’t give you any information about\nmissing values by default, though – it just gives counts for\nobservations with data. \nIf you want to see missing values using `table`,\nadd the argument `useNA = \"always\"`\n:::\n\n## More counts\n\nTo get counts of two categorical variables together (e.g. what is the\ndiagnosis type breakdown by recipient CMV status?), use\n[cross-tabulation](https://www.khanacademy.org/math/statistics-probability/analyzing-categorical-data/two-way-tables-for-categorical-data/a/two-way-tables-review), also called “crosstabs” or \"two-way frequency tables\".\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\nxtabs(~cmv + diagnosis.type, \n      data = cytomegalovirus)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     diagnosis.type\ncmv   Lymphoid Myeloid\n  No        15      19\n  Yes       13      11\n```\n:::\n:::\n\n\n## Crosstabs\n\nTo get the results of a chi-squared test on the crosstabs, you can apply\nthe `summary` function to an xtabs object.\n\nOption 1:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# you can nest the summary and xtabs functions\nsummary(xtabs(~cmv + diagnosis.type, \n              data = cytomegalovirus))\n```\n:::\n\n\nOption 2:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\n# or you can save the xtabs object and then run summary() on it\ncmv_and_diagnosistype <- xtabs(~cmv + diagnosis.type, \n                               data = cytomegalovirus)\nsummary(cmv_and_diagnosistype)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: xtabs(formula = ~cmv + diagnosis.type, data = cytomegalovirus)\nNumber of cases in table: 58 \nNumber of factors: 2 \nTest for independence of all factors:\n\tChisq = 0.569, df = 1, p-value = 0.4507\n```\n:::\n:::\n\n\n::: notes\nAh, and see I said we weren't going to be doing any actual hypothesis testing, but there we just ran a chi-squared test of independence! \n\nWe won't get into interpreting this test right now, but I wanted to show you this because you may recognize our old friend, the `summary` function. `summary` is one of several functions in R that shows up in quite a wide range of different circumstances, and it's smart enough to give you different output depending on what you ask it to summarize. Just like it switched what kind of descriptive statistics it printed when we used it on a numeric vs factor variable, if you run `summary` on a crosstab it prints out the relevant statistical test for that table! \n:::\n\n## {{< fa book-open >}} Learn more\n\nFor beautifully printed crosstabs, see [the `tbl_cross` function in the `gtsummary` package](https://www.danieldsjoberg.com/gtsummary/articles/tbl_summary.html#tbl_cross).\n\n## {{< fa rocket >}} Coding Challenge 2\n\n::: {.r-fit-text}\nYour turn!\n\nLook in the `summary_stats_exercises.rmd` file to find your next coding challenge.\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_798a8514\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Presenting Summary Statistics<br>in R\n\n![Table 1 summary statistics on the cytomegalovirus data](media/cytomegalovirus_table1.png){fig-alt='Table 1 from the published paper on the cytomegalovirus data. Columns are \"1 to 4 aKIRs\", \"5 to 6 aKIRs\" and \"P value\". There are rows for each of the following variables: age, sex, race, diagnosis category, months from diagnosis to treatment, prior radiation therapy, number of prior chemo regimens, prior transplants, recipient CMV seropositive, donor CMV seropositive, and recipient or donor CMV seropositive.' width=\"100%\"}\n\n::: notes\nMany research articles begin with a table summarizing the patients or research subjects analyzed, usually broken down by condition or exposure to allow the reader to see any baseline differences between groups. For example, here is Table 1 from the paper this dataset is from.\n\nOne way to create a summary table would be to copy-paste all of your\nsummary stats from R into whatever program you use to write your\narticle. That is both error-prone and tedious, and it also means if\nanything changes in your data you need to re-do all of that work.\n\nAnother approach is creating the whole table right in R! \nThe `gtsummary` package is a great way to do that.\n:::\n\n## Creating Table 1 with `gtsummary`\n\nWe’ll recreate an approximation of the cytomegalovirus Table 1 using `gtsummary`:\n\n![](media/cytomegalovirus_table1_cropped.png){fig-alt='Top half of Table 1 showing the column headers \"1 to 4 aKIRs\", \"5 to 6 aKIRs\" and \"P value\".'}\n\n::: notes\nOften, a lot of the work you need to do to get a table to look how you want is actually data cleaning work rather than anything about the function that will actually create your table. This case is no exception.\n\nNote that the table breaks patients down by whether their aKIRs are 1-4\nor 5-6. In the data, aKIRs are just numeric scores 1-6, so first we’ll\nneed to create a factor for those two groups. Similarly, the table groups all patients with at least 4 prior chemo treatments as one group.\n:::\n\n## Recoding variables for the table\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2-4|5-6|7-11|\"}\ncytomegalovirus <- cytomegalovirus |> \n  mutate(aKIRs_groups = if_else(aKIRs > 4, \n                                \"5 to 6 aKIRs\", \n                                \"1 to 4 aKIRs\"),\n         aKIRs_groups = factor(aKIRs_groups, \n                               levels = c(\"1 to 4 aKIRs\", \"5 to 6 aKIRs\")),\n         prior.chemo_groups = if_else(prior.chemo >= 4, \n                                      \"≥ 4\", \n                                      as.character(prior.chemo)),\n         prior.chemo_groups = factor(prior.chemo_groups, \n                                     levels = c(\"0\", \"1\", \"2\", \"3\", \"≥ 4\")))\n```\n:::\n\n\n. . .\n\nThe `if_else` function is what's called a ternary operator, and it has three parts:\n\n * a conditional test\n * a value to use if the test returns `TRUE`\n * a value to use if the test returns `FALSE`.\n\n\n::: notes\nLet's break that down.\n\n[click] We're using the `if_else` function to recode the numeric variable `aKIRs` as one of two strings, \"5 to 6 aKIRs\" if it's greater than 4 and \"1 to 4 aKIRs\" otherwise.\n[click] That will result in a character vector called `aKIRs_groups`, so then with the next line we turn it into a factor.\n\n[click] Then we apply the same approach to the `prior.chemo` variable, first we make everything greater than or equal to 4 into \"≥ 4\", and set all other values to `as.character()` on whatever their original values were --- this changes the numbers into string versions, so 0 becomes \"0\", 1 becomes \"1\", etc.\nThat creates a new variable called `prior.chemo_groups`, but it's a character vector, so we turn it into a factor.\n\n[click, click] The `if_else` function is what's called a ternary operator.\n\nIn the aKIRs example, we first tested each value to see if it was > 4. If yes, we assigned it \"5 to 6 aKIRs\", and if no we assigned it to \"1 to 4 aKIRs\". Note that `if_else` preserves missing values, so anything that was NA in aKIRs will still be NA in aKIRs_groups.\n:::\n\n## {{< fa book-open >}} Learn more\n\nFor more on using `mutate` and `if_else`, see see the [R Basics: Data Transformation sections on `mutate`](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/r_basics_transform_data/r_basics_transform_data.md#the-mutate%28%29-function) and [logical operators](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/r_basics_transform_data/r_basics_transform_data.md#logical-operators) to see more examples of the kinds of conditional tests you can put in.\n\n## {{< fa circle-question >}} Troubleshooting\n\nNote that there are two different functions that look similar and do almost (but not quite!) exactly the same thing: `if_else` and `ifelse`. \n\n. . .\n\n`if_else` is part of the `dplyr` package, and `ifelse` is part of base R. \nThis is a common point of confusion. \nThere are a few differences in how the two functions work, but one of the big ones is that `ifelse` does NOT preserve missingness. \nIt's a subtle difference, but watch out!\n\n## Our first attempt at Table 1\n\nNow we can use the new `aKIRs_groups` and `prior.chemo_groups` variables in our Table 1.\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code  code-line-numbers=\"|1|2-5|6|\"}\ncytomegalovirus |>  \n  select(aKIRs_groups, age, sex, race, \n         diagnosis.type, time.to.transplant, \n         prior.chemo_groups, prior.transplant, \n         cmv, donor.cmv) |> \n  tbl_summary(by = aKIRs_groups) \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"npmlxmhvkr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#npmlxmhvkr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#npmlxmhvkr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#npmlxmhvkr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#npmlxmhvkr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#npmlxmhvkr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#npmlxmhvkr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#npmlxmhvkr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#npmlxmhvkr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#npmlxmhvkr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#npmlxmhvkr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#npmlxmhvkr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#npmlxmhvkr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#npmlxmhvkr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#npmlxmhvkr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#npmlxmhvkr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#npmlxmhvkr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#npmlxmhvkr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#npmlxmhvkr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#npmlxmhvkr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#npmlxmhvkr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#npmlxmhvkr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#npmlxmhvkr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#npmlxmhvkr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#npmlxmhvkr .gt_left {\n  text-align: left;\n}\n\n#npmlxmhvkr .gt_center {\n  text-align: center;\n}\n\n#npmlxmhvkr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#npmlxmhvkr .gt_font_normal {\n  font-weight: normal;\n}\n\n#npmlxmhvkr .gt_font_bold {\n  font-weight: bold;\n}\n\n#npmlxmhvkr .gt_font_italic {\n  font-style: italic;\n}\n\n#npmlxmhvkr .gt_super {\n  font-size: 65%;\n}\n\n#npmlxmhvkr .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#npmlxmhvkr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#npmlxmhvkr .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#npmlxmhvkr .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#npmlxmhvkr .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#npmlxmhvkr .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#npmlxmhvkr .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<sup class=\"gt_footnote_marks\">1</sup></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">56 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.2%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">diagnosis.type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">time.to.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.chemo_groups</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">donor.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (62%)</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"3\"><sup class=\"gt_footnote_marks\">1</sup> Median (IQR); n (%)</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: notes\nLet's break that down.\n\n[click] We're starting with our cytomegalovirus dataframe, [click] and we pipe that to a `select` command to pick out just the variables we want to use in our table.\n[click] Then we pipe that selected dataframe to the `tbl_summary` command, and we put in the argument `by = aKIRs_groups` to tell it we want the table to present summary statistics for the two aKIRs groups (1-4 and 5-6) in separate columns. \n:::\n\n## Customizing a `gtsummary` table\n\nThis is a decent table! \nNotice there are a few things about this table that we might still want to change, for example:\n\n- row labels are taken from the variable names in the dataframe, so they're lowercase and don't use whitespace as we might like (e.g. \"diagnosis.type\" would be better as \"Diagnosis Type\")\n- There's no information about significance testing, like there is in the published table\n\n::: notes\nWe can add a lot of customization, though, to bring it closer to the publication version. \nWe'll look at a few options now.\n:::\n\n## Save a little typing...\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable_data <- cytomegalovirus |>  \n  select(aKIRs_groups, age, sex, race, \n         diagnosis.type, time.to.transplant, \n         prior.radiation, prior.chemo_groups, \n         prior.transplant, recipient.cmv, donor.cmv)\n```\n:::\n\n\n::: notes\nTo save re-typing code and highlight just what's new, save the first part as `table_data`.\n:::\n\n## Add p-values\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups) |> \n  add_p()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"unhdpkgkmr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#unhdpkgkmr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#unhdpkgkmr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#unhdpkgkmr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#unhdpkgkmr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#unhdpkgkmr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#unhdpkgkmr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#unhdpkgkmr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#unhdpkgkmr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#unhdpkgkmr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#unhdpkgkmr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#unhdpkgkmr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#unhdpkgkmr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#unhdpkgkmr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#unhdpkgkmr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unhdpkgkmr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#unhdpkgkmr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#unhdpkgkmr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unhdpkgkmr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#unhdpkgkmr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unhdpkgkmr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#unhdpkgkmr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unhdpkgkmr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#unhdpkgkmr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unhdpkgkmr .gt_left {\n  text-align: left;\n}\n\n#unhdpkgkmr .gt_center {\n  text-align: center;\n}\n\n#unhdpkgkmr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#unhdpkgkmr .gt_font_normal {\n  font-weight: normal;\n}\n\n#unhdpkgkmr .gt_font_bold {\n  font-weight: bold;\n}\n\n#unhdpkgkmr .gt_font_italic {\n  font-style: italic;\n}\n\n#unhdpkgkmr .gt_super {\n  font-size: 65%;\n}\n\n#unhdpkgkmr .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#unhdpkgkmr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#unhdpkgkmr .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#unhdpkgkmr .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#unhdpkgkmr .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#unhdpkgkmr .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#unhdpkgkmr .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;&lt;sup class=&quot;gt_footnote_marks&quot;&gt;2&lt;/sup&gt;\"><strong>p-value</strong><sup class=\"gt_footnote_marks\">2</sup></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">56 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.8</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.2%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">diagnosis.type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.5</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">time.to.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.2</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.radiation</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">9 (19%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.chemo_groups</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.9</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.7</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">recipient.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.2</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (33%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">32 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">donor.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.8</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (62%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><sup class=\"gt_footnote_marks\">1</sup> Median (IQR); n (%)</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><sup class=\"gt_footnote_marks\">2</sup> Wilcoxon rank sum test; Pearson's Chi-squared test; Fisher's exact test</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: notes\nThis is an improvement, but some of you may have noticed that the p values here don't match the published table, and the footnote explains why --- says it's using Wilcoxon rank sum test, Pearson's chi-squared, and Fisher's exact test to get the p vlaues. \n:::\n\n## Customize p-values\n\nThe help documentation (`?add_p.tbl_summary`) explains a little more thoroughly:\n\n>Tests default to \"kruskal.test\" for continuous variables (\"wilcox.test\" when \"by\" variable has two levels), \"chisq.test.no.correct\" for categorical variables with all expected cell counts >=5, and \"fisher.test\" for categorical variables with any expected cell count <5.\n\n\n::: notes\nIt would be nice if the published table included a footnote explaining which tests they used, but unfortunately it doesn't. We can guess that it was a standard t-test rather than the Wilcoxon rank sum test, though.\nWe can control which tests `gtsummary` uses by adding a `test` argument to the `add_p()` command.\nWe'll also have it round to two digits instead of one by modifying the `pvalue_fun` command.\n:::\n\n## Customize p-values\n\nMake the p values round to 2 digits instead of 1, and use t.test instead of wilcoxon rank sum test:\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups) |> \n  add_p(test = list(all_continuous() ~ \"t.test\",\n                    all_categorical() ~ \"chisq.test.no.correct\"),\n        test.args = all_continuous() ~ list(var.equal = TRUE),\n        pvalue_fun = function(x) style_pvalue(x, digits = 2))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"dxumlwrqhu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#dxumlwrqhu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dxumlwrqhu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dxumlwrqhu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dxumlwrqhu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dxumlwrqhu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dxumlwrqhu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dxumlwrqhu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dxumlwrqhu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dxumlwrqhu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dxumlwrqhu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dxumlwrqhu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dxumlwrqhu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dxumlwrqhu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dxumlwrqhu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dxumlwrqhu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dxumlwrqhu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dxumlwrqhu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dxumlwrqhu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dxumlwrqhu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dxumlwrqhu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dxumlwrqhu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dxumlwrqhu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dxumlwrqhu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dxumlwrqhu .gt_left {\n  text-align: left;\n}\n\n#dxumlwrqhu .gt_center {\n  text-align: center;\n}\n\n#dxumlwrqhu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dxumlwrqhu .gt_font_normal {\n  font-weight: normal;\n}\n\n#dxumlwrqhu .gt_font_bold {\n  font-weight: bold;\n}\n\n#dxumlwrqhu .gt_font_italic {\n  font-style: italic;\n}\n\n#dxumlwrqhu .gt_super {\n  font-size: 65%;\n}\n\n#dxumlwrqhu .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#dxumlwrqhu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dxumlwrqhu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dxumlwrqhu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dxumlwrqhu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dxumlwrqhu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dxumlwrqhu .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;&lt;sup class=&quot;gt_footnote_marks&quot;&gt;2&lt;/sup&gt;\"><strong>p-value</strong><sup class=\"gt_footnote_marks\">2</sup></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">age</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">56 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.43</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.62</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.2%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">diagnosis.type</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">time.to.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.86</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.radiation</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">9 (19%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.chemo_groups</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.85</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">prior.transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">recipient.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.23</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (33%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">32 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">donor.cmv</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (62%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><sup class=\"gt_footnote_marks\">1</sup> Median (IQR); n (%)</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><sup class=\"gt_footnote_marks\">2</sup> Two Sample t-test; Pearson's Chi-squared test</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n## {{< fa heart >}} A little encouragement...\n\nIf you're feeling like these arguments look confusing (why does it start with `list()`? What does the `~` mean??), you're not alone! \n\nAs you get further away from the default settings in `gtsummary` (and other packages), your code is likely to become less intuitive and harder to read. \nThat's okay!\n\n::: notes\nPretty much no one, even an R expert, would be able to guess how to specify these arguments without looking it up first. \nThe normal, expected process for something like this is to search for what you want to do online (e.g. \"gtsummary round p value to 2 digits\"), or look in the help documentation, until you find example code that does what you need and then copy it. \nPart of why we included these examples here is so you can come back and copy them later when you're making your own tables!\n:::\n\n## What was that error?\n\nWhen you ran the above code, you may have noticed that R printed out several warnings with text like `Warning for variable 'race': simpleWarning in stats::chisq.test(x = structure(c(1L, 2L, 2L, 2L, 2L, 2L, 2L, : Chi-squared approximation may be incorrect`. \n\n::: notes\nLike many warnings in R (and other programming languages), the text is unfortunately not super clear. But at least it does let you know what variable has a problem (race, in this case) and that it has something to do with the Chi-squared test we're running on it to get those p-values. \n\nIt's beyond the scope of this talk to get into the details, but the reason this warning comes up is because it's actually a bad idea statistically to run an uncorrected Chi-squared test on variables where the expected counts are too low, as is the situation for several of the variables in this table (including race). We're just trying to replicate the tests that were done to get the published version of the table, but R is right that we're not using the best choice of tests here. \n:::\n\n## Clean up labels\n\nOne glaring issue that remains is the row labels. We don't want labels like \"prior.chemo_groups\" in our final table! \n\n. . .\n\nWe can clean those up with the `label` argument in the `tbl_summary` command:\n\n\n::: {.cell output-location='fragment'}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups, \n              label = list(age ~ \"Age at transplant (yrs)\",\n                           sex ~ \"Sex\",\n                           race ~ \"Race\",\n                           diagnosis.type ~ \"Diagnostic category\",\n                           time.to.transplant ~ \"Months from diagnosis to transplant\",\n                           prior.radiation ~ \"Prior radiation therapy\",\n                           prior.chemo_groups ~ \"Number of prior chemotherapy regimens\",\n                           prior.transplant ~ \"Prior transplants\",\n                           recipient.cmv ~ \"Recipient CMV seropositive\",\n                           donor.cmv ~ \"Donor CMV seropositive\")) |> \n  add_p(test = list(all_continuous() ~ \"t.test\",\n                    all_categorical() ~ \"chisq.test.no.correct\"),\n        test.args = all_continuous() ~ list(var.equal = TRUE),\n        pvalue_fun = function(x) style_pvalue(x, digits = 2))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"xqjfhidtgg\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xqjfhidtgg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xqjfhidtgg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xqjfhidtgg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xqjfhidtgg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xqjfhidtgg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xqjfhidtgg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xqjfhidtgg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xqjfhidtgg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xqjfhidtgg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xqjfhidtgg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xqjfhidtgg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xqjfhidtgg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xqjfhidtgg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xqjfhidtgg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xqjfhidtgg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xqjfhidtgg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xqjfhidtgg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xqjfhidtgg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xqjfhidtgg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xqjfhidtgg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xqjfhidtgg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xqjfhidtgg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xqjfhidtgg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xqjfhidtgg .gt_left {\n  text-align: left;\n}\n\n#xqjfhidtgg .gt_center {\n  text-align: center;\n}\n\n#xqjfhidtgg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xqjfhidtgg .gt_font_normal {\n  font-weight: normal;\n}\n\n#xqjfhidtgg .gt_font_bold {\n  font-weight: bold;\n}\n\n#xqjfhidtgg .gt_font_italic {\n  font-style: italic;\n}\n\n#xqjfhidtgg .gt_super {\n  font-size: 65%;\n}\n\n#xqjfhidtgg .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#xqjfhidtgg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xqjfhidtgg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xqjfhidtgg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xqjfhidtgg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xqjfhidtgg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xqjfhidtgg .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;Characteristic&lt;/strong&gt;\"><strong>Characteristic</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;1 to 4 aKIRs&lt;/strong&gt;, N = 48&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>1 to 4 aKIRs</strong>, N = 48<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;5 to 6 aKIRs&lt;/strong&gt;, N = 16&lt;sup class=&quot;gt_footnote_marks&quot;&gt;1&lt;/sup&gt;\"><strong>5 to 6 aKIRs</strong>, N = 16<sup class=\"gt_footnote_marks\">1</sup></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"&lt;strong&gt;p-value&lt;/strong&gt;&lt;sup class=&quot;gt_footnote_marks&quot;&gt;2&lt;/sup&gt;\"><strong>p-value</strong><sup class=\"gt_footnote_marks\">2</sup></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Age at transplant (yrs)</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">56 (45, 61)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">54 (52, 60)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.43</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Sex</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Female</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">23 (48%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">7 (44%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Male</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">25 (52%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (56%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Race</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.62</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    African-American</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5 (10%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1 (6.2%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    White</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">43 (90%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">15 (94%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Diagnostic category</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Lymphoid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">22 (51%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (40%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Myeloid</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">21 (49%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">9 (60%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">5</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">1</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Months from diagnosis to transplant</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (9, 35)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">11 (5, 16)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.86</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Unknown</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">1</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">0</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Prior radiation therapy</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">9 (19%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Number of prior chemotherapy regimens</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.85</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    0</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">3 (19%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    1</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">5 (31%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    2</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">13 (27%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">4 (25%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    3</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">7 (15%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    ≥ 4</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">11 (23%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Prior transplants</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">10 (21%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">2 (12%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.46</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Recipient CMV seropositive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.23</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">16 (33%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">32 (67%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">8 (50%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">Donor CMV seropositive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\"></td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\"></td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">0.77</td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Negative</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">20 (42%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">6 (38%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">    Positive</td>\n<td headers=\"stat_1\" class=\"gt_row gt_center\">28 (58%)</td>\n<td headers=\"stat_2\" class=\"gt_row gt_center\">10 (62%)</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"></td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><sup class=\"gt_footnote_marks\">1</sup> Median (IQR); n (%)</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"4\"><sup class=\"gt_footnote_marks\">2</sup> Two Sample t-test; Pearson's Chi-squared test</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: notes\nThis is starting to look a lot like the published paper! \n\nThere are still things to change (for example, our table prints the median with IQR for continuous variables, whereas the published paper prints the median with range), but this shows what the process is like for building a table with `gtsummary`.\n:::\n\n## Exporting a table \n\nSo how do you get the table from R to Word? You can save the table as a Word doc, which you can then open and copy into your article. \n\n::: aside\nNot working in Word? No problem!\n\nYou can export your table in many different formats! For a list, see [the `gtsummary` website](https://www.danieldsjoberg.com/gtsummary/articles/rmarkdown.html).\n:::\n\nTo save a table as a Word file, add the following two lines to the end of your table commands (you can change \"my_table.docx\" to be whatever you want the file name to be):\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  as_flex_table() |> \n  flextable::save_as_docx(path = \"my_table.docx\")\n```\n:::\n\n\n## {{< fa circle-question >}} Troubleshooting\n\nNote that this requires a function from the `flextable` package. If you've never used `flextable` before, you may need to run `install.packages(\"flextable\")` before this code will work.\n\n## Exporting a table\n\nFor example, to save the table above, you could do the following:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable_data |> \n  tbl_summary(by = aKIRs_groups, \n              label = list(age ~ \"Age at transplant (yrs)\",\n                           sex ~ \"Sex\",\n                           race ~ \"Race\",\n                           diagnosis.type ~ \"Diagnostic category\",\n                           time.to.transplant ~ \"Months from diagnosis to transplant\",\n                           prior.radiation ~ \"Prior radiation therapy\",\n                           prior.chemo_groups ~ \"Number of prior chemotherapy regimens\",\n                           prior.transplant ~ \"Prior transplants\",\n                           recipient.cmv ~ \"Recipient CMV seropositive\",\n                           donor.cmv ~ \"Donor CMV seropositive\")) |> \n  add_p(test = list(all_continuous() ~ \"t.test\",\n                    all_categorical() ~ \"chisq.test.no.correct\"),\n        test.args = all_continuous() ~ list(var.equal = TRUE),\n        pvalue_fun = function(x) style_pvalue(x, digits = 2)) |> \n  as_flex_table() |> \n  flextable::save_as_docx(path = \"my_table.docx\")\n```\n:::\n\n\n::: notes\nBy default, `flextable::save_as_docx` will save the table in your current working directory. To save it somewhere else, use the `path` argument to specify which folder you want to save it in (for example, \"reports/table1.docx\").\n:::\n\n## {{< fa book-open >}} Learn more\n\nFor a review of how to specify a path, see the [explanation of absolute and relative paths in our Directories and File Paths module](https://liascript.github.io/course/?https://raw.githubusercontent.com/arcus/education_modules/main/directories_and_file_paths/directories_and_file_paths.md#file-paths).\n\n## {{< fa rocket >}} Coding Challenge 3: Homework!\n\nFor your final coding challenge, return to RStudio and follow the instructions there to create a Table 1 for a brand new data set, the [laryngoscope data](https://www.causeweb.org/tshs/datasets/Laryngoscope%20Dataset%20Introduction.pdf). \n\nHere's the published table you'll be trying to recreate:\n\n![Table 1 from the published article on the laryngoscope data.](media/laryngoscope_table1.png)\n\n. . .\n\nFor inspiration (and lots of examples of things to try), check out [the `tbl_summary` help documentation](https://www.danieldsjoberg.com/gtsummary/articles/tbl_summary.html).\n\n::: notes\nHave fun, and don't worry about getting everything perfect --- if you get stuck on part of the table, just move on and try something else. The goal is to get practice using the `gtsummary` commands. \n:::\n\n## {{< fa rocket >}} Coding Challenge 3: Homework!\n\nDon't struggle in silence! \n\n::: {.incremental}\n- Ask questions and share tips on the CHOPR slack\n- Come to [R Office Hours](https://bit.ly/chopROfficeHours) to show off your progress and get help\n- There's a solution available in `summary_stats_solutions.Rmd`, but you'll learn a lot more if you try it yourself first\n:::\n\n## What we covered\n\n::: {.incremental}\n- getting example data from the `medicaldata` package\n- `summary()`\n- `min()`, `max()`, `mean()`, `median()`, `var()`, `sd()`, `quantile()`\n- `table()`\n- `xtabs()`\n- building tables with `gtsummary` package, specifically using `tbl_summary()`\n- a bunch of extras throughout on data transformations and data cleaning\n:::\n\n::: notes\nThat's a lot! \nSo don't expect to remember everything --- you have the slides and all the example code to go back to. My goal for you all is for you to come away with a general impression of how to go about getting summary stats in R, and to know where there's some code for you to copy if you want to make a Table 1. \n:::\n\n# Additional resources\n\nFor general background on statistics: \n\n- [StatsQuest videos on Statistics Fundamentals](https://www.youtube.com/playlist?list=PLblh5JKOoLUK0FLuzwntyYI10UQFUhsY9)\n- [Videos on statistics from Kahn Academy](https://www.khanacademy.org/math/statistics-probability)\n\nFor more on the `gtsummary` package, see their website, especially the [FAQ and gallery of example tables](https://www.danieldsjoberg.com/gtsummary/articles/gallery.html)\n\n# Shameless plug\n\nWant to go through this material again? It's posted as [an interactive tutorial online](https://bit.ly/DART_r_summary_stats) as part of [DART (Data and Analytics for Research Training)](https://arcus.github.io/education_modules/)!\n\n. . .\n\nIf you like it you may want to sign up for the DART research program (eligibility criteria apply)! Our next wave begins Aug 7.\n\n[Fill out our interest form to learn more!](https://redcap.chop.edu/surveys/?s=FPHWFNEA9KN3HERF)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}